"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[386],{8999:(e,s,t)=>{t.d(s,{A:()=>x});var a=t(9950),l=t(2260),n=t(3491),r=t(4959),i=t(9324),c=t(4194),d=t(4414);const h=e=>{let{imageUrl:s,setImageUrl:t,className:h,...x}=e;const p=(0,a.useRef)(),[o,u]=(0,a.useState)(!1),m=()=>{p.current.click()},g=()=>(0,d.jsxs)("button",{className:"w-full",type:"button",onClick:m,children:[o?(0,d.jsx)(l.A,{}):(0,d.jsx)(r.g,{className:"text-[#333]",icon:i.Cyq}),(0,d.jsx)("div",{style:{marginTop:8},children:(0,d.jsx)("span",{className:"font-semibold",children:"T\u1ea3i li\xean"})})]});return(0,d.jsxs)("div",{className:h,...x,children:[(0,d.jsx)("input",{type:"file",className:"hidden",ref:p,onChange:e=>{(e=>{const s=e.target.files[0];if(!s)return!1;const t="image/jpeg"===s.type||"image/png"===s.type;t||n.Ay.error("B\u1ea1n ph\u1ea3i t\u1ea3i t\u1ec7p \u1ea3nh JPG/PNG !");const a=s.size/1024/1024<2;return a||n.Ay.error("\u1ea2nh c\u1ee7a b\u1ea1n ph\u1ea3i nh\u1ecf h\u01a1n 2MB!"),t&&a})(e)&&(u(!0),((e,s)=>{const t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",(()=>s(t.result)))})(e.target.files[0],(e=>{u(!1),t(e)})))},accept:"image/jpeg, image/png"}),(0,d.jsx)("div",{className:`border-2 border-dashed h-44 w-full ${!(null!==s&&void 0!==s&&s.length)>0?"py-5":""} border-primary flex rounded-md justify-center content-center`,children:s?(0,d.jsx)("button",{className:"w-full h-full",onClick:()=>m(),children:(0,d.jsx)(c.A,{src:s,alt:"thumbnail",className:"w-full h-full"})}):(0,d.jsx)(g,{})})]})},x=(0,a.memo)(h)},2386:(e,s,t)=>{t.r(s),t.d(s,{default:()=>p});var a=t(9950),l=t(62),n=t(3571),r=t(8999),i=t(8091),c=t(3491),d=t(8429),h=t(7086),x=t(4414);const p=()=>{const e=(0,d.Zp)(),[s,t]=(0,a.useState)(""),[p,o]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[g,j]=(0,a.useState)(""),[y,f]=(0,a.useState)(""),N=(0,i.A)((e=>n.TK(e))),b=(0,h.I)({queryKey:["userDetailQueryToUpdate"],queryFn:()=>n.vF()});(0,a.useEffect)((()=>{b.data&&(t(b.data.email),o(b.data.name),m(b.data.phone),j(b.data.address),f(b.data.avatar))}),[b.data]);const w=(0,a.useCallback)((e=>{f(e)}),[y]);return(0,a.useEffect)((()=>{N.isPending||(N.isError?c.Ay.error("S\u1eeda th\xf4ng tin c\xe1 nh\xe2n th\u1ea5t b\u1ea1i"):N.isSuccess&&(c.Ay.success("Thay \u0111\u1ed5i th\xf4ng tin th\xe0nh c\xf4ng"),e("/")))}),[N.isError,N.isSuccess]),(0,x.jsx)(x.Fragment,{children:b.isLoading||N.isPending?(0,x.jsx)(l.A,{}):(0,x.jsx)("div",{className:"flex justify-center my-6",children:(0,x.jsxs)("div",{className:"w-full md:w-3/4 bg-white px-8 py-5 rounded-md shadow-sm",children:[(0,x.jsxs)("div",{className:"border-b border-solid border-gray-200 pb-3",children:[(0,x.jsx)("h5",{children:"H\u1ed3 s\u01a1 c\u1ee7a t\xf4i"}),(0,x.jsx)("p",{className:"text-slate-500",children:"Qu\u1ea3n l\xfd h\u1ed3 s\u01a1 \u0111\u1ec3 b\u1ea3o m\u1eadt t\xe0i kho\u1ea3n"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:[(0,x.jsx)("div",{className:"col-span-12 md:col-span-8",children:(0,x.jsx)("div",{className:" border-r mt-6 pr-5 border-gray-200",children:(0,x.jsx)("table",{className:"min-w-full",children:(0,x.jsxs)("tbody",{children:[(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-4 w-1/4 px-3 whitespace-nowrap text-right text-slate-400",children:"Email"}),(0,x.jsx)("td",{className:"py-4 px-3 text-left",children:(0,x.jsx)("input",{className:"w-full outline-none px-2 py-2 border",value:s,onChange:e=>t(e.target.value)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-4 px-3 whitespace-nowrap text-right text-slate-400",children:"T\xean ng\u01b0\u1eddi d\xf9ng"}),(0,x.jsx)("td",{className:"py-4 px-3 text-left",children:(0,x.jsx)("input",{className:"w-full outline-none px-2 py-2 border",value:p,onChange:e=>o(e.target.value)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-4 px-3 whitespace-nowrap text-right text-slate-400",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),(0,x.jsx)("td",{className:"py-4 px-3 text-left",children:(0,x.jsx)("input",{className:"w-full outline-none px-2 py-2 border",value:u,onChange:e=>m(e.target.value)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-4 px-3 whitespace-nowrap text-right text-slate-400",children:"\u0110\u1ecba ch\u1ec9"}),(0,x.jsx)("td",{className:"py-4 px-3 text-left",children:(0,x.jsx)("input",{className:"w-full outline-none px-2 py-2 border",value:g,onChange:e=>j(e.target.value)})})]}),(0,x.jsxs)("tr",{children:[(0,x.jsx)("td",{className:"py-4 px-3"}),(0,x.jsx)("td",{className:"py-4 px-3 text-left",children:(0,x.jsx)("button",{className:"bg-primary px-6 py-2 text-white rounded-sm",onClick:async()=>{if(!s||!p||!u||!g||!y)return c.Ay.warning("Vui l\xf2ng nh\u1eadp \u0111\u1ee7 th\xf4ng tin c\xe1 nh\xe2n");N.mutate({email:s,name:p,phone:u,address:g,avatar:y})},children:"L\u01b0u"})})]})]})})})}),(0,x.jsx)("div",{className:"col-span-12 md:col-span-4",children:(0,x.jsx)(r.A,{imageUrl:y,setImageUrl:w})})]})]})})})}}}]);