"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[919],{1919:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var r=t(7086),s=t(3491),l=t(1759),n=t(4159),d=t.n(n),i=t(9950),c=t(1032),o=t(8091),b=t(307);const x=async e=>{try{const{skip:a,limit:t}=e,r=new URLSearchParams;Object.entries({skip:a,limit:t}).forEach((e=>{let[a,t]=e;t&&r.append(a,t)}));const s=await b.A.get(`/admin/quiz-management/quizList?${r}`);return s.data?s.data.data:null}catch(a){if(a.response)throw new Error(a.response.data.message)}};var u=t(4414);const p="CHANGE_DISABLED",m="SET_USER_LIST",h=(e,a)=>{switch(a.type){case m:return a.payload.quizzes?a.payload.quizzes:e;case p:{const t=[...e];return a.payload.id?(t.forEach((e=>{e._id==a.payload.id&&(e.isDisabled=!e.isDisabled)})),t):e}default:return e}},f=()=>{const[e,a]=(0,i.useReducer)(h,[]),[t,n]=(0,i.useState)(0),f=(0,r.I)({queryKey:["quizzesListQuery"],queryFn:()=>x({})}),y=(0,o.A)((e=>x(e)));(0,i.useEffect)((()=>{var e,t;f.data?(n(null===(e=f.data)||void 0===e?void 0:e.total),a({type:m,payload:{quizzes:null===(t=f.data)||void 0===t?void 0:t.quizzes}})):f.isError&&s.Ay.error("\u0111\xe3 c\xf3 l\u1ed7i x\u1ea3y ra")}),[f]),(0,i.useEffect)((()=>{var e;y.isSuccess&&a({type:m,payload:{quizzes:null===(e=y.data)||void 0===e?void 0:e.quizzes}})}),[y]);const g=(0,o.A)((e=>(async e=>{try{const{id:a}=e;if(!a)return null;const t=await b.A.patch(`/admin/quiz-management/disabledQuiz/${a}`);if(t.data)return t.data}catch(a){if(a.response)throw a.response.data.message}})(e)));return(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("section",{className:"p-6 overflow-x-scroll px-0 pt-0 pb-2",children:[(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("h1",{className:"text-2xl my-5 text-gray-700",children:"DANH S\xc1CH \u0110\u1ec0 TR\u1eaeC NGHI\u1ec6M"}),(0,u.jsxs)("p",{className:"text-lg",children:["T\u1ed5ng s\u1ed1: ",(0,u.jsx)("span",{className:"text-primary text-xl",children:t})]})]}),(0,u.jsxs)("table",{className:"w-full min-w-[640px] table-auto",children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-left",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-[13px] font-bold uppercase text-blue-gray-400",children:"T\xean \u0111\u1ec1 tr\u1eafc nghi\u1ec7m"})}),(0,u.jsx)("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-[13px] font-bold uppercase text-blue-gray-400",children:"Ng\u01b0\u1eddi t\u1ea1o"})}),(0,u.jsx)("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-[13px] font-bold uppercase text-blue-gray-400",children:"S\u1ed1 c\xe2u h\u1ecfi"})}),(0,u.jsx)("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-[13px] font-bold uppercase text-blue-gray-400",children:"Ng\xe0y t\u1ea1o"})}),(0,u.jsx)("th",{className:"border-b border-blue-gray-50 py-3 px-5 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-[14px] font-bold uppercase text-blue-gray-400",children:"Ch\u1eb7n"})})]})}),(0,u.jsx)("tbody",{children:null===e||void 0===e?void 0:e.map(((e,t)=>{var r,s;return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"py-3 px-5 border-b border-blue-gray-50",children:(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("img",{src:e.thumb,alt:"Avatar",className:"inline-block relative object-cover object-center w-24 h-24 rounded-md border-2"}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"block antialiased font-sans text-base leading-normal text-blue-gray-900 font-semibold",children:e.name||""})})]})}),(0,u.jsx)("td",{className:"py-3 px-5 border-b border-blue-gray-50 text-center",children:(0,u.jsxs)("div",{className:"flex items-center gap-4",children:[(0,u.jsx)("img",{src:null===e||void 0===e||null===(r=e.userInfo)||void 0===r?void 0:r.avatar,alt:"Avatar",className:"inline-block relative object-cover object-center w-10 h-10 rounded-full border-2"}),(0,u.jsx)("div",{children:(0,u.jsx)("p",{className:"block antialiased font-sans text-base leading-normal text-blue-gray-900 font-semibold",children:(null===e||void 0===e||null===(s=e.userInfo)||void 0===s?void 0:s.name)||""})})]})}),(0,u.jsx)("td",{className:"py-3 px-5 border-b border-blue-gray-50 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-base font-semibold text-blue-gray-600",children:e.questionCount||0})}),(0,u.jsx)("td",{className:"py-3 px-5 border-b border-blue-gray-50 text-center",children:(0,u.jsx)("p",{className:"block antialiased font-sans text-base font-semibold text-blue-gray-600",children:e.createdAt?d()(e.createdAt).format("DD/MM/YYYY"):"null"})}),(0,u.jsx)("td",{className:"py-3 px-5 border-b border-blue-gray-50 text-center",children:(0,u.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[(0,u.jsx)("input",{type:"checkbox",className:"sr-only peer",onChange:()=>{var t;(t=e._id)&&(g.mutate({id:t}),a({type:p,payload:{id:t}}))},checked:e.isDisabled||!1}),(0,u.jsx)("div",{className:"relative w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-blue-300 dark:peer-focus:ring-primary dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary dark:peer-checked:bg-primary"}),(0,u.jsx)("span",{className:"ms-3 text-base font-medium text-gray-900 dark:text-gray-300"})]})})]},t)}))})]}),(0,u.jsx)(l.A,{className:"mt-3",align:"end",onChange:e=>{return a=e,void y.mutate({skip:(Number(a-1)||0)*c.md});var a},defaultCurrent:1,defaultPageSize:c.md,total:t||c.md})]})})}}}]);