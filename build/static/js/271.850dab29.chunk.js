"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[271],{6003:(e,t,r)=>{r.d(t,{A:()=>i});r(7565);var a=r(3003),s=r(1689),n=r(7929);const i=()=>(0,n.jsx)("div",{className:"w-full h-screen relative",children:(0,n.jsx)(a.A,{color:s.Tj.primary,size:100,className:"absolute mx-auto top-1/2 -translate-y-full"})})},8729:(e,t,r)=>{r.d(t,{A:()=>o});var a=r(7953),s=r(5113),n=r(345),i=r(7929);const o=e=>{let{title:t="Hello",content:r="This is modal content",onLoading:o,onCancel:c,onOk:l,isShow:d,textButtonHandle:u="X\xf3a",bgColorButtonHandle:h="bg-red-500",className:p="",showFooter:x=!0}=e;return(0,i.jsx)(i.Fragment,{children:d&&(0,i.jsx)("div",{className:"fixed inset-0 z-30",children:(0,i.jsx)("div",{onClick:c,className:"flex justify-center items-start bg-black bg-opacity-45 min-h-screen",children:(0,i.jsxs)("div",{onClick:e=>e.stopPropagation(),className:`absolute px-5 py-3 top-20 min-w-full md:min-w-96 flex flex-col shadow-lg rounded bg-white ${p}`,children:[(0,i.jsxs)("div",{className:"flex justify-between items-center border-b",children:[(0,i.jsx)("h2",{className:"font-medium",children:t}),(0,i.jsx)("button",{className:"px-2 py-2",onClick:c,children:(0,i.jsx)(s.g,{className:"text-2xl md:text-xl font-normal text-gray-400",icon:a.yYc})})]}),(0,i.jsx)("div",{className:"my-6",children:r}),x&&(0,i.jsxs)("div",{className:"border-t flex justify-end pt-3 space-x-2",children:[(0,i.jsx)("button",{onClick:c,className:"rounded bg-white px-3 py-1 border-2",children:"Cancel"}),(0,i.jsx)("button",{onClick:l,className:`rounded ${h} text-white px-3 py-1 border-2`,children:o?(0,i.jsx)(n.A,{}):u})]})]})})})})}},6088:(e,t,r)=>{r.d(t,{A:()=>O});var a=r(7953),s=r(5113),n=r(7565),i=r(7898),o=r(1122),c=function(){return c=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},c.apply(this,arguments)},l=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]])}return r},d=(0,o.J)("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");const u=function(e){var t=e.loading,r=void 0===t||t,a=e.color,s=void 0===a?"#000000":a,o=e.speedMultiplier,u=void 0===o?1:o,h=e.cssOverride,p=void 0===h?{}:h,x=e.height,m=void 0===x?35:x,y=e.width,g=void 0===y?4:y,f=e.radius,v=void 0===f?2:f,j=e.margin,w=void 0===j?2:j,b=l(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),N=c({display:"inherit"},p),z=function(e){return{backgroundColor:s,width:(0,i.p)(g),height:(0,i.p)(m),margin:(0,i.p)(w),borderRadius:(0,i.p)(v),display:"inline-block",animation:"".concat(d," ").concat(1/u,"s ").concat(.1*e,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return r?n.createElement("span",c({style:N},b),n.createElement("span",{style:z(1)}),n.createElement("span",{style:z(2)}),n.createElement("span",{style:z(3)}),n.createElement("span",{style:z(4)}),n.createElement("span",{style:z(5)})):null};var h=r(1689),p=r(4705),x=r(1030),m=r(477),y=r(8415),g=r(6146),f=r(1932),v=r.n(f),j=r(2911),w=r(6020),b=r(1958),N=r(723),z=r(2562),C=r(7929);const A=e=>{let{title:t,slug:r,time:i,questionCount:o=0,accessCount:c=0,examCount:l=0,imageSrc:d,id:f,onDelete:A=!1,isFavorite:O=!1}=e;const E=(0,x.Zp)(),q=(0,N.wA)(),k=(0,N.d4)((e=>e.user)),S=(0,b.A)((e=>w.a2(e)));return(0,n.useEffect)((()=>{S.isSuccess&&S.reset()}),[S.isSuccess]),O=k.favoriteQuiz.some((e=>e.slug===r)),(0,C.jsxs)("div",{className:"shrink-0 max-w-80 transition-all duration-300 shadow-lg rounded hover:shadow-2xl",children:[(0,C.jsx)("div",{onClick:()=>E(`${y.HR.reviewQuiz}/${r}`),className:"w-full h-52 flex justify-center content-center hover:cursor-pointer",children:(0,C.jsx)(p.A,{src:d,alt:t,placeholder:(0,C.jsx)(u,{color:h.Tj.primary})})}),(0,C.jsxs)("div",{className:"px-2 py-3",children:[(0,C.jsx)("p",{className:"font-bold text-base line-clamp-2",children:t}),i&&(0,C.jsxs)("div",{className:"flex items-center gap-1",children:[(0,C.jsx)(s.g,{className:"text-orange-900",icon:a.APe}),(0,C.jsx)("p",{className:"text-gray-700",children:v()(i).format("DD/MM/YYYY")})]}),(0,C.jsx)("div",{className:"mt-2",children:(0,C.jsxs)("div",{className:"text-base flex gap-3",children:[(0,C.jsxs)(g.A,{trigger:"hover",content:"C\xe2u h\u1ecfi",children:[(0,C.jsx)(s.g,{icon:a.APe,className:"mr-1 text-yellow-500"}),(0,C.jsx)("span",{className:"text-gray-700",children:null!==o&&void 0!==o?o:0})]}),(0,C.jsxs)(g.A,{trigger:"hover",content:"L\u01b0\u1ee3t truy c\u1eadp",children:[(0,C.jsx)(s.g,{icon:a.s67,className:"mr-1 text-blue-500"}),(0,C.jsx)("span",{className:"text-gray-700",children:null!==c&&void 0!==c?c:0})]}),(0,C.jsxs)(g.A,{trigger:"hover",content:"S\u1ed1 l\u01b0\u1ee3t thi",children:[(0,C.jsx)(s.g,{icon:a.yjc,className:"mr-1 text-green-500"}),(0,C.jsx)("span",{className:"text-gray-700",children:null!==l&&void 0!==l?l:0})]})]})})]}),A&&(0,C.jsx)("div",{className:"px-2 py-2 border-t-2",children:(0,C.jsx)("div",{className:"mt-2",children:(0,C.jsx)("div",{className:"text-base flex gap-3",children:(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(g.A,{trigger:"hover",content:"Xem chi ti\u1ebft",children:(0,C.jsx)("button",{onClick:()=>E(`${y.tX.myQuiz}/${f}`),children:(0,C.jsx)(s.g,{icon:a.pS3,className:"pr-1 text-[#f27735]"})})}),(0,C.jsx)(g.A,{trigger:"hover",content:"Ch\u1ec9nh s\u1eeda \u0111\u1ec1 thi",children:(0,C.jsx)("button",{onClick:()=>E(`${y.tX.myQuiz}/chinh-sua/${f}`),children:(0,C.jsx)(s.g,{icon:a.MT7,className:"pr-1 text-[#851e3f]"})})}),(0,C.jsx)(g.A,{trigger:"hover",content:"X\xf3a \u0111\u1ec1 thi",children:(0,C.jsx)("button",{onClick:A,children:(0,C.jsx)(s.g,{icon:a.sjs,className:"pr-1 text-red-500"})})})]})})})}),(0,C.jsxs)("div",{className:"px-3 py-3 border-t-2 flex justify-between",children:[(0,C.jsxs)(m.N_,{to:`${y.HR.reviewQuiz}/${r}`,className:"inline-block rounded border hover:text-white hover:opacity-80 ease-linear transition-all duration-200 text-white bg-gradient-to-r from-primary to-[#1e998c] px-2 py-2",children:[(0,C.jsx)(s.g,{icon:a.e74,className:"pr-1"}),"V\xe0o \xf4n thi"]}),(0,C.jsx)("button",{onClick:()=>((e,t)=>{e&&(S.mutate({id:e}),q((0,z.a2)({slug:t})))})(f,r),children:(0,C.jsx)(s.g,{className:"text-red-500 text-2xl",icon:O?a.qcK:j.qcK})})]})]})},O=(0,n.memo)(A)},7271:(e,t,r)=>{r.r(t),r.d(t,{default:()=>b});var a=r(7911),s=r(7565),n=r(328),i=r(5113),o=r(7953),c=r(97),l=r(1030),d=r(8415),u=r(723),h=r(6836),p=r(6003),x=r(1958),m=r(6088),y=r(3654),g=r(8729),f=r(7929);const v=(0,s.createContext)(),j=e=>{let{children:t}=e;const[r,i]=(0,s.useState)([]),o=(0,u.wA)(),c=(0,u.d4)((e=>e.quiz)),l=(0,a.I)({queryKey:[""],queryFn:async()=>{if(c.quiz.length<=0){const e=await n.qY();return i(e),o((0,h.Y0)(e)),e}return c.quiz!==r&&i(c.quiz),c}});return(0,f.jsx)(v.Provider,{value:{quizzes:r,setQuizzes:i},children:l.isPending?(0,f.jsx)(p.A,{}):(0,f.jsx)(f.Fragment,{children:t})})},w=()=>{const{quizzes:e,setQuizzes:t}=(0,s.useContext)(v),r=(0,l.Zp)(),[a,p]=(0,s.useState)(!1),[j,w]=(0,s.useState)(null),b=(0,u.wA)(),N=(0,x.A)((e=>n.hj(e))),z=(0,s.useCallback)((()=>{p(!1),w(null)}),[]),C=(0,s.useCallback)((()=>{j&&N.mutate({id:j})}),[j]);return(0,s.useEffect)((()=>{if(N.isSuccess&&N.data){const{id:e}=N.data;e?(b((0,h.Dm)({id:e})),t((t=>(t=[...t]).filter((t=>t._id!==e)))),z(),c.Ay.success("X\xf3a b\xe0i tr\u1eafc nghi\u1ec7m th\xe0nh c\xf4ng")):c.Ay.error("X\xf3a b\xe0i tr\u1eafc nghi\u1ec7m th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i")}else N.isError&&c.Ay.error("X\xf3a b\xe0i tr\u1eafc nghi\u1ec7m th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i")}),[N.isSuccess,N.data,N.isError]),(0,s.useLayoutEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"flex justify-between my-5",children:(0,f.jsx)("h4",{className:"font-semibold text-gray-500",children:"Danh s\xe1ch \u0111\u1ec1 thi"})}),(0,f.jsxs)("section",{className:"rounded-xl bg-white px-8 py-8 flex gap-10 flex-wrap shadow",children:[(0,f.jsxs)("div",{className:"w-full border-b-2 px-9 py-1 flex justify-between",children:[(0,f.jsxs)("p",{className:"font-semibold text-xl",children:[(0,f.jsx)("span",{className:"text-primary mr-2",children:e?e.length:0}),(0,f.jsx)("span",{className:"text-slate-600",children:"\u0110\u1ec1 thi"})]}),(0,f.jsxs)("button",{onClick:()=>r(d.Ay.createQuiz),className:"px-2 py-1 text-primary font-semibold rounded border-primary border-2 hover:text-primary hover:opacity-55 transition-all duration-200",children:[(0,f.jsx)(i.g,{icon:o.CHJ,className:"mr-1"}),"T\u1ea1o \u0111\u1ec1 thi"]})]}),(0,f.jsx)("div",{className:"grid w-full h-full grid-cols-2 gap-4 px-0 pb-4 sm:grid-cols-3 md:grid-cols-4  2xl:grid-cols-5",children:(null===e||void 0===e?void 0:e.length)>0?e.map(((e,t)=>(0,f.jsx)(m.A,{title:e.name,accessCount:e.accessCount,examCount:e.examCount,questionCount:(null===e||void 0===e?void 0:e.questionCount)||(0,y.yX)(e.quiz),imageSrc:e.thumb,id:e._id,slug:e.slug,onDelete:()=>{return t=e._id,p(!0),void w(t);var t}},t))):"Kh\xf4ng th\u1ea5y \u0111\u1ec1 thi n\xe0o \ud83d\ude1f\ud83d\ude1f\ud83d\ude1f\ud83d\ude1f"})]}),(0,f.jsx)(g.A,{isShow:a,onCancel:z,onLoading:N.isPending,onOk:C})]})},b=()=>(0,f.jsx)(j,{children:(0,f.jsx)(w,{})})},328:(e,t,r)=>{r.d(t,{hG:()=>l,wn:()=>c,hj:()=>x,Wk:()=>m,h3:()=>o,iC:()=>p,mU:()=>h,qY:()=>i,J7:()=>d,z1:()=>u});var a=r(97),s=r(2620);const n=r(201).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),i=async()=>{try{const t=await s.A.get("/quiz/getQuizzes");var e;if(200===t.status&&t.data)return await(r=2e3,new Promise((e=>setTimeout(e,r)))),null!==(e=t.data.data)&&void 0!==e?e:[]}catch(a){var t;if(a.response)throw new Error(null===(t=a.response)||void 0===t?void 0:t.data)}var r},o=async e=>{try{const t=await s.A.get(`/quiz/getQuizDetail?id=${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},c=async e=>{try{const{name:t,description:r,school:a,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}=e,d=await s.A.post("/quiz/create",JSON.stringify({name:t,description:r,school:a,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}));return 200===d.status&&d.data?d.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},l=async e=>{try{const{id:t,partName:r,questionType:a,questionContent:n,answers:i}=e,o=await s.A.put("/quiz/createQuestion",JSON.stringify({id:t,partName:r,questionType:a,questionContent:n,answers:i}));return 200===o.status&&o.data?o.data.data:{}}catch(t){if(t.response)throw a.Ay.error(t.response.data),new Error(t.response.data)}},d=async e=>{try{const t=await s.A.put("/quiz/updateQuizGeneralInfo",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw a.Ay.error(t.response.data),new Error(t.response.data)}},u=async e=>{try{const t=await s.A.put("/quiz/updateQuizQuestion",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:t}catch(t){if(t.response)throw console.log(t.response),new Error(t.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await n.get(`/quiz/getQuizPreview/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},p=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await s.A.get(`/quiz/getQuizForExam/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},x=async e=>{try{const{id:t}=e;if(!t)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const r=await s.A.delete(`/quiz/deleteQuiz/${t}`);return 200===r.status&&r.data?r.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},m=async e=>{try{const{name:t,page:r,limit:a,subject:s,topic:i,schoolYear:o,educationLevel:c}=e,l=new URLSearchParams;Object.entries({name:t,page:r,limit:a,subject:s,topic:i,schoolYear:o,educationLevel:c}).forEach((e=>{let[t,r]=e;void 0!==r&&l.append(t,String(r))}));const d=await n.get(`/quiz/getDiscoveryQuizzes?${l}`);return 200===d.status&&d.data?d.data.data:[]}catch(t){throw new Error(t.response.data)}}},3654:(e,t,r)=>{r.d(t,{Et:()=>n,LE:()=>s,jt:()=>a,yX:()=>i});const a=e=>new Promise(((t,r)=>{const a=new FileReader;a.readAsDataURL(e),a.onload=()=>t(a.result),a.onerror=e=>r(e)}));const s=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),n=e=>{try{return!isNaN(e)}catch{return!1}},i=e=>Array.isArray(e)?e.reduce(((e,t)=>{var r;return e+(null===t||void 0===t||null===(r=t.questions)||void 0===r?void 0:r.length)}),0):0},3003:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(7565),s=r(7898),n=r(1122),i=function(){return i=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},i.apply(this,arguments)},o=function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]])}return r},c=(0,n.J)("ClockLoader","100% { transform: rotate(360deg) }","rotate");const l=function(e){var t=e.loading,r=void 0===t||t,n=e.color,l=void 0===n?"#000000":n,d=e.speedMultiplier,u=void 0===d?1:d,h=e.cssOverride,p=void 0===h?{}:h,x=e.size,m=void 0===x?50:x,y=o(e,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,s.L)(m),f=g.value,v=g.unit,j=i({display:"inherit",position:"relative",width:"".concat(f).concat(v),height:"".concat(f).concat(v),backgroundColor:"transparent",boxShadow:"inset 0px 0px 0px 2px ".concat(l),borderRadius:"50%"},p),w={position:"absolute",backgroundColor:l,width:"".concat(f/3,"px"),height:"2px",top:"".concat(f/2-1,"px"),left:"".concat(f/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(c," ").concat(8/u,"s linear infinite")},b={position:"absolute",backgroundColor:l,width:"".concat(f/2.4,"px"),height:"2px",top:"".concat(f/2-1,"px"),left:"".concat(f/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(c," ").concat(2/u,"s linear infinite")};return r?a.createElement("span",i({style:j},y),a.createElement("span",{style:b}),a.createElement("span",{style:w})):null}}}]);
//# sourceMappingURL=271.850dab29.chunk.js.map