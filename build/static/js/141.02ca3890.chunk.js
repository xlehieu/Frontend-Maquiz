"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[141],{3141:(e,a,t)=>{t.r(a),t.d(a,{default:()=>h});var s=t(9950),r=t(7086),i=t(8740),n=t(8429),o=t(9519),l=t(4959),d=t(9324),c=t(1032),u=t(4414);const h=()=>{var e,a,t,h;const{id:p}=(0,n.g)(),{data:m}=(0,r.I)({queryKey:["data",p],queryFn:()=>o.h3(p),enabled:!!p}),[x,w]=(0,s.useState)(1),[v,b]=(0,s.useState)(0),[y,j]=(0,s.useState)(0),f=[{key:1,label:"Th\xf4ng tin chung",icon:d.KTq},{key:2,label:"C\xe1c c\xe2u h\u1ecfi",icon:d.wRm}],N={1:(0,u.jsx)("section",{className:"bg-white px-2 rounded",children:(0,u.jsx)("table",{className:"w-full",children:(0,u.jsxs)("tbody",{children:[(0,u.jsxs)("tr",{className:"h-10",children:[(0,u.jsx)("td",{className:"w-1/3 pl-2 font-semibold text-base",children:"T\xean:"}),(0,u.jsx)("td",{className:"w-1/3 pl-2",children:null===m||void 0===m?void 0:m.name})]}),(0,u.jsxs)("tr",{className:"h-10 bg-gray-100",children:[(0,u.jsx)("td",{className:"w-1/3 pl-2 font-semibold text-base",children:"M\xf4n h\u1ecdc:"}),(0,u.jsx)("td",{className:"w-1/3 pl-2",children:null===m||void 0===m?void 0:m.subject})]}),(0,u.jsxs)("tr",{className:"h-10",children:[(0,u.jsx)("td",{className:"w-1/3 pl-2 font-semibold text-base",children:"Tr\u01b0\u1eddng:"}),(0,u.jsx)("td",{className:"w-1/3 pl-2",children:null===m||void 0===m?void 0:m.school})]}),(0,u.jsxs)("tr",{className:"bg-gray-100",children:[(0,u.jsx)("td",{className:"w-1/3 pl-2 font-semibold text-base",children:"\u1ea2nh:"}),(0,u.jsx)("td",{className:"w-1/3 pl-2 py-2",children:(0,u.jsx)("img",{src:null===m||void 0===m?void 0:m.thumb,className:"rounded-md",width:180,alt:null===m||void 0===m?void 0:m.name})})]}),(0,u.jsxs)("tr",{className:"h-10",children:[(0,u.jsx)("td",{className:"w-1/3 pl-2 font-semibold text-base",children:"M\xf4 t\u1ea3:"}),(0,u.jsx)("td",{className:"w-1/3 pl-2",children:null===m||void 0===m?void 0:m.description})]})]})})}),2:(0,u.jsxs)("section",{className:"w-full flex md:flex-row sm:flex-col gap-5",children:[(0,u.jsxs)("div",{className:"md:w-2/5 sm:w-full",children:[(0,u.jsxs)("div",{className:"bg-white shadow-sm px-3 py-3 border rounded-md w-full",children:[(0,u.jsx)("h5",{className:"pb-2",children:"Ph\u1ea7n thi"}),(0,u.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===m||void 0===m?void 0:m.quiz)&&(null===m||void 0===m?void 0:m.quiz.map(((e,a)=>(0,u.jsx)("button",{onClick:()=>(e=>{b(e),null!==m&&void 0!==m&&m.quiz[e]&&(b(e),j(0))})(a),className:((null===e||void 0===e?void 0:e.partName)===(null===m||void 0===m?void 0:m.quiz[v].partName)?"bg-primary border-primary text-white":"border-gray-400 text-gray-700")+" px-3 py-2 rounded-md border-2 transition-all duration-300",children:null===e||void 0===e?void 0:e.partName},a))))})]}),(0,u.jsx)("div",{className:"bg-white shadow-sm px-3 py-3 border rounded-md w-full mt-5 flex flex-wrap gap-5",children:(null===m||void 0===m?void 0:m.quiz)&&(null===m||void 0===m||null===(e=m.quiz[v])||void 0===e||null===(a=e.questions)||void 0===a?void 0:a.map(((e,a)=>(0,u.jsx)("button",{onClick:()=>(e=>{j(e),m&&m.quiz[v].questions[e]&&j(e)})(a),className:(y===a?"bg-primary text-white border-primary":"bg-white  border-gray-400 text-gray-700 ")+" hover:opacity-75 w-12 px-3 py-2 border-2 rounded-md duration-200 transition-all font-semibold",children:a+1},a))))})]}),(0,u.jsx)("div",{className:"md:flex-1 bg-white px-3 py-3 shadow-md sm:w-full",children:(null===m||void 0===m?void 0:m.quiz)&&(null===m||void 0===m||null===(t=m.quiz[v])||void 0===t||null===(h=t.questions)||void 0===h?void 0:h.length)>0&&(0,u.jsxs)("div",{children:[(0,u.jsxs)("p",{className:"text-base",children:[(0,u.jsx)("span",{className:"font-medium",children:"Lo\u1ea1i c\xe2u h\u1ecfi:"})," ",c.kg[null===m||void 0===m?void 0:m.quiz[v].questions[y].questionType]]}),(null===m||void 0===m?void 0:m.quiz[v].questions[y].questionContent)&&(0,u.jsxs)("div",{children:[(0,u.jsx)("h4",{className:"mt-3 text-xl font-bold flex",children:"C\xe2u h\u1ecfi:"}),(0,u.jsx)("div",{className:"mt-1 text-xl",children:(0,i.Ay)(null===m||void 0===m?void 0:m.quiz[v].questions[y].questionContent)})]}),(0,u.jsx)("div",{className:"text-base",children:null===m||void 0===m?void 0:m.quiz[v].questions[y].answers.map(((e,a)=>{var t;return(0,u.jsxs)("div",{className:"mt-3 flex",children:[(0,u.jsx)("input",{type:""+(1==(null===m||void 0===m||null===(t=m.quiz[v].questions[y])||void 0===t?void 0:t.questionType)?"radio":"checkbox"),checked:e.isCorrect,onChange:()=>{}}),(0,u.jsx)("label",{className:"ml-3 text-gray-700 font-normal",children:(0,i.Ay)(e.content)})]},a)}))})]})})]})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-full bg-white px-5 py-5 rounded-md",children:(0,u.jsx)("div",{className:"flex gap-9",children:f.map(((e,a)=>(0,u.jsxs)("div",{className:(x===e.key?"border-b-4 border-b-primary text-primary cursor-default":"hover:opacity-50 cursor-pointer border-b-4 border-b-white")+" flex flex-wrap items-center text-lg pb-2 px-1 transition-all duration-200 ease-linear",onClick:()=>w(e.key),children:[(0,u.jsx)(l.g,{className:"block",icon:e.icon}),(0,u.jsx)("p",{className:"pl-2",children:e.label})]},e.key)))})}),(0,u.jsx)("div",{className:"mt-9 w-full",children:N[x]})]})}},9519:(e,a,t)=>{t.d(a,{hG:()=>d,wn:()=>l,hj:()=>m,Wk:()=>x,h3:()=>o,iC:()=>p,mU:()=>h,qY:()=>n,J7:()=>c,z1:()=>u});var s=t(3491),r=t(307);const i=t(9246).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),n=async e=>{try{const t=new URLSearchParams;Object.entries(e).forEach((e=>{let[a,s]=e;void 0!=s&&t.append(a,String(s))}));const s=await r.A.get(`/quiz/mine?${t}`);var a;return 200===s.status&&s.data&&(null!==(a=s.data.data)&&void 0!==a)?a:[]}catch(s){var t;if(console.log(s),s.response)throw new Error(null===(t=s.response)||void 0===t?void 0:t.data)}},o=async e=>{try{const a=await r.A.get(`/quiz/detail?id=${e}`);return 200===a.status&&a.data?a.data.data:{}}catch(a){if(a.response)throw new Error(a.response.data)}},l=async e=>{try{const{name:a,description:t,school:s,subject:i,topic:n,schoolYear:o,educationLevel:l,thumb:d}=e,c=await r.A.post("/quiz/create",JSON.stringify({name:a,description:t,school:s,subject:i,topic:n,schoolYear:o,educationLevel:l,thumb:d}));return 200===c.status&&c.data?c.data.data:{}}catch(a){if(a.response)throw new Error(a.response.data)}},d=async e=>{try{const{id:a,partName:t,questionType:s,questionContent:i,answers:n}=e,o=await r.A.put("/quiz/createQuestion",JSON.stringify({id:a,partName:t,questionType:s,questionContent:i,answers:n}));return 200===o.status&&o.data?o.data.data:{}}catch(a){if(a.response)throw s.Ay.error(a.response.data),new Error(a.response.data)}},c=async e=>{try{const a=await r.A.put("/quiz/updateGeneralInfo",JSON.stringify(e));return 200===a.status&&a.data?a.data.data:{}}catch(a){if(a.response)throw s.Ay.error(a.response.data),new Error(a.response.data)}},u=async e=>{try{const a=await r.A.put("/quiz/updateQuestion",JSON.stringify(e));return 200===a.status&&a.data?a.data.data:a}catch(a){if(a.response)throw console.log(a.response),new Error(a.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const a=await i.get(`/quiz/preview/${e}`);return 200===a.status&&a.data?a.data.data:{}}catch(a){throw new Error(a.response.data)}},p=async e=>{try{if(!e)throw new Error("L\u1ed7i");const a=await r.A.get(`/quiz/forExam/${e}`);return 200===a.status&&a.data?a.data.data:{}}catch(a){throw new Error(a.response.data)}},m=async e=>{try{const{id:a}=e;if(!a)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const t=await r.A.delete(`/quiz/${a}/deleteQuiz`);return 200===t.status&&t.data?t.data.data:{}}catch(a){if(a.response)throw new Error(a.response.data)}},x=async e=>{try{const{name:a,page:t,limit:s,skip:r,subject:n,topic:o,schoolYear:l,educationLevel:d}=e,c=new URLSearchParams;Object.entries({name:a,page:t,limit:s,skip:r,subject:n,topic:o,schoolYear:l,educationLevel:d}).forEach((e=>{let[a,t]=e;void 0!==t&&c.append(a,String(t))}));const u=await i.get(`/quiz/discovery?${c}`);return 200===u.status&&u.data?u.data.data:[]}catch(a){throw new Error(a.response.data)}}}}]);