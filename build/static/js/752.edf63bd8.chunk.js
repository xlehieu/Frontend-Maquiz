"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[752],{9392:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(67),r=t.n(a);var i=t(2074),n=t(4414);const l=r().bind({wrapper:"Button_wrapper__zHAzU",disabled:"Button_disabled__zeJXy",rounded:"Button_rounded__2ew+u",primary:"Button_primary__D29RK",secondary:"Button_secondary__QemUT",outline:"Button_outline__Z11gE",text:"Button_text__c5-t4",custom:"Button_custom__gx9Nm",small:"Button_small__BcF6A",large:"Button_large__XIuY3",icon:"Button_icon__ivoFX","title-btn":"Button_title-btn__BBLiX"});const o=function(e){let{children:s,primary:t=!1,secondary:a=!1,outline:r=!1,small:o=!1,large:c=!1,text:d=!1,rounded:u=!1,disabled:h=!1,fontNormal:m=!0,fontBold:p=!1,to:x,href:f,className:v,leftIcon:b,rightIcon:j,onClick:y,...w}=e,g="button";const N={onClick:y,...w};h&&Object.keys(N).forEach((e=>{e.startsWith("on")&&"function"===typeof N[e]&&delete N[e]})),x?(N.to=x,g=i.N_):f&&(N.href=f,g="a");const q=l("wrapper",{secondary:a,primary:t,outline:r,small:o,large:c,text:d,rounded:u,disabled:h,[v]:v}),C=l("title-btn",""+(p?"font-bold":"font-normal"));return(0,n.jsxs)(g,{className:q,...N,children:[b&&(0,n.jsx)("span",{className:l("icon"),children:b}),(0,n.jsx)("span",{className:C,children:s}),j&&(0,n.jsx)("span",{className:l("icon"),children:j})]})}},2771:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(9950),r=t(9392),i=t(8777),n=t(8750),l=t(4414);const o=e=>{let{callback:s,isActiveQuizPartNameDialog:t,setIsActiveQuizPartNameDialog:o}=e;const[c,d]=(0,a.useState)("");return(0,l.jsx)("div",{className:(t?"block":"hidden")+" z-50 sm:w-full md:w-1/3 bg-white shadow-lg left-1/2 -translate-x-1/2 -translate-y-1/2 absolute rounded px-6 py-6",children:(0,l.jsxs)("div",{className:"block relative",children:[(0,l.jsx)("button",{className:"absolute right-0",onClick:()=>o(!1),children:(0,l.jsx)(i.A,{className:"text-red-600 text-2xl"})}),(0,l.jsx)("div",{className:"mb-5",children:(0,l.jsx)("label",{htmlFor:"quizPartName",children:"T\xean ph\u1ea7n thi"})}),(0,l.jsx)("input",{id:"quizPartName",value:c,onChange:e=>d(e.target.value),autoComplete:"off",placeholder:"T\xean ph\u1ea7n thi",className:"mb-5 caret-primary px-3 py-2 border-2 rounded w-full outline-primary"}),(0,l.jsx)("div",{children:(0,l.jsx)(r.A,{onClick:()=>{var e;""!==(e=c).trim()&&(s(e),o(!1),d(""))},className:"float-end",secondary:!0,leftIcon:(0,l.jsx)(n.A,{}),children:"Th\xeam"})})]})})}},8999:(e,s,t)=>{t.d(s,{A:()=>u});var a=t(9950),r=t(2260),i=t(3491),n=t(4959),l=t(9324),o=t(4194),c=t(4414);const d=e=>{let{imageUrl:s,setImageUrl:t,...d}=e;const u=(0,a.useRef)(),[h,m]=(0,a.useState)(!1),p=()=>{u.current.click()},x=()=>(0,c.jsxs)("button",{className:"w-full",type:"button",onClick:p,children:[h?(0,c.jsx)(r.A,{}):(0,c.jsx)(n.g,{icon:l.JmV}),(0,c.jsx)("div",{style:{marginTop:8},children:(0,c.jsx)("span",{className:"font-semibold",children:"T\u1ea3i li\xean"})})]});return(0,c.jsxs)("div",{...d,children:[(0,c.jsx)("input",{type:"file",className:"hidden",ref:u,onChange:e=>{(e=>{const s=e.target.files[0];if(!s)return!1;const t="image/jpeg"===s.type||"image/png"===s.type;t||i.Ay.error("B\u1ea1n ph\u1ea3i t\u1ea3i t\u1ec7p \u1ea3nh JPG/PNG !");const a=s.size/1024/1024<2;return a||i.Ay.error("\u1ea2nh c\u1ee7a b\u1ea1n ph\u1ea3i nh\u1ecf h\u01a1n 2MB!"),t&&a})(e)&&(m(!0),((e,s)=>{const t=new FileReader;t.readAsDataURL(e),t.addEventListener("load",(()=>s(t.result)))})(e.target.files[0],(e=>{m(!1),t(e)})))}}),(0,c.jsx)("div",{className:`border-2 border-dashed h-44 w-full ${!(null!==s&&void 0!==s&&s.length)>0?"py-5":""} border-primary flex rounded-md justify-center content-center`,children:s?(0,c.jsx)("button",{className:"w-full h-full",onClick:()=>p(),children:(0,c.jsx)(o.A,{src:s,alt:"thumbnail",className:"w-full h-full"})}):(0,c.jsx)(x,{})})]})},u=(0,a.memo)(d)},243:(e,s,t)=>{t.d(s,{A:()=>a});const a={askBeforePasteHTML:!1,defaultActionOnPaste:"insert_only_text",buttons:["bold","italic","fontsize","font","brush"],toolbarAdaptive:!1}},752:(e,s,t)=>{t.r(s),t.d(s,{default:()=>T});var a=t(9950),r=t(8429),i=t(9519),n=t(4959),l=t(9324),o=t(1032),c=t(8999),d=t(3491),u=t(2529),h=t(7713),m=t(2260),p=t(501),x=t(8553),f=t(8091),v=t(4554),b=t.n(v),j=t(2771),y=t(6158),w=t(7086),g=t(4194),N=t(243),q=t(4414);const C=(0,a.createContext)(),z=(0,a.createContext)(),A=e=>{let{children:s}=e;const{id:t}=(0,r.g)(),[n,l]=(0,a.useState)({}),o=(0,w.I)({queryKey:["getQuizQuery",t],queryFn:()=>i.h3(t),refetchOnMount:!1,staleTime:1/0});return(0,a.useEffect)((()=>{o.isError&&d.Ay.error("L\u1ed7i!, kh\xf4ng t\xecm th\u1ea5y \u0111\u1ec1 thi"),o.data&&l(o.data)}),[o.isError,o.data]),(0,q.jsx)(C.Provider,{value:n,children:(0,q.jsx)(z.Provider,{value:l,children:s})})},k=new Date,_=()=>{const e=(0,a.useContext)(C),[s,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[v,b]=(0,a.useState)(""),[j,y]=(0,a.useState)(),[w,N]=(0,a.useState)(""),[z,A]=(0,a.useState)(""),[_,S]=(0,a.useState)(k.getFullYear()),[E,T]=(0,a.useState)([]),B=(0,a.useRef)(),L=(0,a.useRef)(),P=(0,a.useRef)(),F=(0,a.useRef)(),O=(0,a.useCallback)((e=>{t(e)}),[s]),R=(0,f.A)((e=>i.J7(e)));return(0,a.useEffect)((()=>{t(null===e||void 0===e?void 0:e.thumb),l(null===e||void 0===e?void 0:e.name),b(null===e||void 0===e?void 0:e.description),y(null===e||void 0===e?void 0:e.school),N(null===e||void 0===e?void 0:e.subject),T(null===e||void 0===e?void 0:e.educationLevel),A(null===e||void 0===e?void 0:e.topic),S(null===e||void 0===e?void 0:e.schoolYear)}),[e]),(0,a.useEffect)((()=>{R.isSuccess?d.Ay.success("C\u1eadp nh\u1eadt th\xf4ng tin chung b\xe0i tr\u1eafc nghi\u1ec7m th\xe0nh c\xf4ng"):R.isError&&d.Ay.error("C\u1eadp nh\u1eadt th\xf4ng tin chung b\xe0i tr\u1eafc nghi\u1ec7m th\u1ea5t b\u1ea1i")}),[R.isSuccess,R.isError]),(0,q.jsxs)("section",{className:"bg-white px-2 rounded",children:[(0,q.jsxs)("div",{className:"grid grid-flow-col grid-cols-11 gap-4",children:[(0,q.jsxs)("div",{className:"col-span-4 px-3 py-4 bg-white",children:[(0,q.jsx)("p",{className:"font-semibold pb-2",children:"\u1ea2nh \u0111\u1ec1 thi"}),(0,q.jsx)(c.A,{setImageUrl:O,imageUrl:s}),(0,q.jsx)("div",{className:"flex flex-wrap mt-2",children:o.S9.map(((e,s)=>(0,q.jsx)("button",{onClick:()=>t(e),className:"w-1/2 px-1 py-1 border",children:(0,q.jsx)(g.A,{src:e,alt:"image-default",className:"w-full- h-full"})},s)))})]}),(0,q.jsxs)("div",{className:"col-span-7 flex flex-col gap-4 px-6 py-4 bg-white",children:[(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizName",className:"font-semibold",children:"T\xean \u0111\u1ec1 thi"})}),(0,q.jsx)(u.A,{value:r,onChange:e=>{l(e.target.value),B.current.textContent=""},autoComplete:"off",placeholder:"T\xean \u0111\u1ec1 thi",type:"text",className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary"}),(0,q.jsx)("span",{className:"text-sm text-red-600",ref:B})]}),(0,q.jsxs)("div",{className:"columns-2 gap-4 focus-within:text-primary",children:[(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizSchool",className:"font-semibold",children:"Tr\u01b0\u1eddng h\u1ecdc"})}),(0,q.jsx)(u.A,{onChange:e=>y(e.target.value),value:j,className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary",placeholder:"T\xean tr\u01b0\u1eddng h\u1ecdc"}),(0,q.jsx)("span",{className:"text-sm text-red-600",ref:P})]}),(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizSubject",className:"font-semibold",children:"T\xean m\xf4n h\u1ecdc"})}),(0,q.jsx)(u.A,{value:w,onChange:e=>{N(e.target.value),F.current.textContent=""},autoComplete:"off",placeholder:"T\xean m\xf4n h\u1ecdc",type:"text",className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary"}),(0,q.jsx)("span",{className:"text-sm text-red-600",ref:F})]})]}),(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizSubject",className:"font-semibold",children:"Tr\xecnh \u0111\u1ed9"})}),(0,q.jsx)(h.A,{mode:"multiple",allowClear:!0,placeholder:"Please select",value:E,onChange:e=>T(e),children:null===o.Wv||void 0===o.Wv?void 0:o.Wv.map(((e,s)=>(0,q.jsx)(h.A.Option,{value:e,children:e},s)))})]}),(0,q.jsxs)("div",{className:"columns-2 gap-4",children:[(0,q.jsx)("div",{className:"flex flex-col focus-within:text-primary",children:(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizSchool",className:"font-semibold",children:"N\u0103m h\u1ecdc"})}),(0,q.jsx)(u.A,{onChange:e=>S(e.target.value),value:_,className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary",placeholder:"N\u0103m h\u1ecdc"})]})}),(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizName",className:"font-semibold",children:"Ch\u1ee7 \u0111\u1ec1 b\xe0i thi"})}),(0,q.jsx)(u.A,{value:z,onChange:e=>{A(e.target.value)},autoComplete:"off",placeholder:"Ch\u1ee7 \u0111\u1ec1 b\xe0i thi",type:"text",className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary"})]}),(0,q.jsxs)("div",{className:"flex flex-col focus-within:text-primary",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"quizDescription",className:"font-semibold",children:"M\xf4 t\u1ea3 \u0111\u1ec1 thi"})}),(0,q.jsx)(p.A,{onInput:e=>{b(e.target.value),L.current.textContent=""},value:v,rows:4,autoComplete:"off",placeholder:"M\xf4 t\u1ea3",className:"px-3 py-1 shadow-sm rounded-md border-2 outline-primary caret-primary"}),(0,q.jsx)("span",{className:"text-sm text-red-600",ref:L})]})]})]}),(0,q.jsx)("div",{className:"mt-4 w-full flex justify-end bg-white py-3 px-4 rounded shadow-sm",children:(0,q.jsxs)("button",{onClick:()=>{if(!r||!j||!w||!v||!e._id)return d.Ay.error("Vui l\xf2ng ki\u1ec3m tra l\u1ea1i th\xf4ng tin");R.mutate({id:e._id,name:r,description:v,subject:w,school:j,thumb:s,topic:z,schoolYear:_,educationLevel:E})},disabled:R.isPending,className:"bg-primary px-3 py-2 text-lg text-white rounded transition-all hover:opacity-70 duration-300",children:[R.isPending?(0,q.jsx)(m.A,{className:"mr-1"}):(0,q.jsx)(n.g,{icon:x.hSh,className:"mr-1"}),"L\u01b0u"]})})]})},S=()=>{var e,s,t,r,o,c,u,h;const p=(0,a.useContext)(C),v=(0,a.useContext)(z),[w,g]=(0,a.useState)(!1),[A,k]=(0,a.useState)(0),[_,S]=(0,a.useState)(0),E=(0,f.A)((e=>i.z1(e)));return(0,a.useEffect)((()=>{E.isSuccess?(d.Ay.success("S\u1eeda c\xe1c c\xe2u h\u1ecfi tr\u1eafc nghi\u1ec7m th\xe0nh c\xf4ng"),window.scrollTo({top:140,behavior:"smooth"}),E.reset()):E.isError&&(d.Ay.error(E.error.message),E.reset())}),[E.isError,E.isSuccess]),(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("section",{className:"w-full flex md:flex-row sm:flex-col gap-5",children:[(0,q.jsxs)("div",{className:"md:w-2/5 sm:w-full",children:[(0,q.jsxs)("div",{className:"bg-white shadow-sm px-3 py-3 border rounded-md w-full",children:[(0,q.jsxs)("div",{className:"flex justify-between",children:[(0,q.jsx)("h5",{className:"pb-2",children:"Ph\u1ea7n thi"}),(0,q.jsx)("button",{className:"outline-primary border-primary bg-primary rounded-md border-2 px-3 duration-300 transition-all hover:opacity-50",onClick:()=>g(!0),children:(0,q.jsx)("p",{className:"text-primary font-bold",children:(0,q.jsx)(n.g,{icon:l.QLR,className:"text-white"})})})]}),(0,q.jsx)("div",{className:"flex flex-wrap gap-2 mt-4",children:(null===p||void 0===p?void 0:p.quiz)&&p.quiz.map(((e,s)=>(0,q.jsx)("button",{onClick:()=>(e=>{k(e),p.quiz[e]&&S(0)})(s),className:(A===s?"bg-primary border-primary text-white":"border-gray-400 text-gray-700")+" px-3 py-2 rounded-md border-2 transition-all duration-300",children:e.partName},s)))})]}),(0,q.jsx)(j.A,{callback:e=>(e=>{v((s=>((s={...s}).quiz.push({partName:e,questions:[{questionType:1,questionContent:"",answers:[{content:"",isCorrect:!0},{content:"",isCorrect:!1},{content:"",isCorrect:!1},{content:"",isCorrect:!1}]}]}),s))),S(0),k(p.quiz.length-1)})(e),isActiveQuizPartNameDialog:w,setIsActiveQuizPartNameDialog:g}),(0,q.jsxs)("div",{className:"bg-white shadow-sm px-3 py-3 border rounded-md w-full mt-5",children:[(0,q.jsxs)("div",{className:"flex justify-between",children:[(0,q.jsx)("h5",{className:"pb-2",children:"C\xe2u h\u1ecfi"}),(0,q.jsx)("button",{onClick:()=>{var e,s;S(null===p||void 0===p||null===(e=p.quiz[A])||void 0===e||null===(s=e.questions)||void 0===s?void 0:s.length),v((e=>((e={...e}).quiz[A]?e.quiz[A].questions.push({questionType:1,questionContent:"",answers:[{content:"",isCorrect:!0},{content:"",isCorrect:!1},{content:"",isCorrect:!1},{content:"",isCorrect:!1}]}):d.Ay.error("L\u1ed7i! B\u1ea1n ph\u1ea3i th\xeam ph\u1ea7n thi tr\u01b0\u1edbc khi th\xeam c\xe2u h\u1ecfi m\u1edbi"),e)))},className:"outline-primary border-primary bg-primary rounded-md border-2 px-3 duration-300 transition-all hover:opacity-50",children:(0,q.jsx)("p",{className:"text-primary font-bold",children:(0,q.jsx)(n.g,{icon:l.QLR,className:"text-white"})})})]}),(0,q.jsx)("div",{className:"flex flex-wrap gap-3 mt-4",children:p.quiz&&(null===p||void 0===p||null===(e=p.quiz[A])||void 0===e?void 0:e.questions.map(((e,s)=>(0,q.jsx)("button",{onClick:()=>(e=>{S(e)})(s),className:(_===s?"bg-primary text-white border-primary":"bg-white  border-gray-400 text-gray-700 ")+" hover:opacity-75 w-12 px-3 py-2 border-2 rounded-md duration-200 transition-all font-semibold",children:s+1},s))))})]}),(0,q.jsx)("div",{className:"mt-4 w-full flex justify-end bg-white py-3 px-4 rounded shadow-sm",children:(0,q.jsxs)("button",{onClick:()=>{null!==p&&void 0!==p&&p.quiz&&p.quiz.length&&E.mutate({id:p._id,quiz:p.quiz})},className:"bg-primary px-4 py-2 text-white rounded transition-all hover:opacity-70 duration-300",children:[E.isPending?(0,q.jsx)(m.A,{className:"mr-1"}):(0,q.jsx)(n.g,{icon:x.hSh,className:"mr-1"}),"L\u01b0u"]})})]}),(null===p||void 0===p||null===(s=p.quiz)||void 0===s?void 0:s.length)>0&&(0,q.jsxs)("div",{className:"md:flex-1 bg-white px-3 py-3 shadow-sm sm:w-full",children:[(0,q.jsxs)("div",{className:"flex justify-between",children:[(0,q.jsxs)("div",{className:"flex flex-col",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{htmlFor:"questionType",className:"font-semibold",children:"Lo\u1ea1i c\xe2u h\u1ecfi"})}),(0,q.jsx)("div",{children:(0,q.jsxs)("select",{id:"questionType",className:"sm:w-full lg:w-56 px-2 py-2 border-2 rounded-lg outline-primary",value:p.quiz&&(null===p||void 0===p||null===(t=p.quiz[A])||void 0===t||null===(r=t.questions[_])||void 0===r?void 0:r.questionType),onChange:e=>{return s=e.target.value,void v((e=>((e={...e}).quiz[A].questions[_].questionType=s,e)));var s},children:[(0,q.jsx)("option",{value:1,children:"M\u1ed9t \u0111\xe1p \xe1n"}),(0,q.jsx)("option",{value:2,children:"Nhi\u1ec1u \u0111\xe1p \xe1n"})]})})]}),(0,q.jsx)("div",{children:(0,q.jsxs)("button",{onClick:()=>{var e,s,t;p.quiz&&(v((e=>{var s,t,a;return null===(s=e={...e})||void 0===s||null===(t=s.quiz[A])||void 0===t||null===(a=t.questions)||void 0===a||a.splice(_,1),e})),(null===(e=p.quiz[A])||void 0===e||null===(s=e.questions)||void 0===s?void 0:s.length)-1>0?S((e=>0===e?0:e-1)):(t=A,null!==p&&void 0!==p&&p.quiz[t]&&v((e=>((e={...e}).quiz.splice(t,1),e))),k((e=>0===e?0:e-1)),S(0)))},className:"border-red-600 text-white bg-red-600 border-2 rounded-lg px-2 py-1  duration-300 transition-all hover:opacity-50",children:[(0,q.jsx)(n.g,{icon:x.BeE,className:"mr-2"}),"X\xf3a c\xe2u h\u1ecfi"]})})]}),(0,q.jsxs)("div",{className:"flex flex-col mt-3",children:[(0,q.jsx)("div",{className:"mb-2",children:(0,q.jsx)("label",{className:"font-semibold",children:"So\u1ea1n c\xe2u h\u1ecfi"})}),(0,q.jsx)(b(),{config:{...N.A,placeholder:"Nh\u1eadp c\xe2u h\u1ecfi",askBeforePasteHTML:!1,defaultActionOnPaste:"insert_as_html"},value:(null===p||void 0===p?void 0:p.quiz)&&(null===p||void 0===p||null===(o=p.quiz[A])||void 0===o||null===(c=o.questions[_])||void 0===c?void 0:c.questionContent),onBlur:e=>(e=>{v((s=>((s={...s}).quiz[A].questions[_].questionContent=e,s)))})(e)})]}),(0,q.jsxs)("div",{className:"flex flex-col mt-3",children:[(0,q.jsx)("div",{children:(0,q.jsx)("p",{className:"font-semibold",children:"C\xe2u tr\u1ea3 l\u1eddi"})}),p.quiz&&(null===(u=p.quiz[A])||void 0===u||null===(h=u.questions[_])||void 0===h?void 0:h.answers.map(((e,s)=>(0,q.jsxs)("div",{className:"flex flex-col mt-4",children:[(0,q.jsxs)("div",{className:"flex justify-between content-center",children:[(0,q.jsxs)("div",{className:"flex text-xl pb-2",children:[p.quiz&&1==p.quiz[A].questions[_].questionType?(0,q.jsx)("input",{name:"isCorrect",checked:e.isCorrect,onChange:e=>(e=>{v((s=>((s={...s}).quiz[A].questions[_].answers.forEach((e=>{e.isCorrect=!1})),s.quiz[A].questions[_].answers[e].isCorrect=!0,s)))})(s),type:"radio",className:"mr-2 hover:cursor-pointer",id:""+("answer"+s)}):(0,q.jsx)("input",{name:"isCorrect",checked:e.isCorrect,onChange:e=>(e=>{v((s=>((s={...s}).quiz[A].questions[_].answers[e].isCorrect=!s.quiz[A].questions[_].answers[e].isCorrect,s)))})(s),type:"checkbox",className:"mr-2 hover:cursor-pointer",id:""+("answer"+s)}),(0,q.jsxs)("label",{htmlFor:""+("answer"+s),className:"flex-wrap content-center hover:cursor-pointer",children:["\u0110\xe1p \xe1n ",`${s+1}`]})]}),(0,q.jsx)("button",{className:"text-xl",onClick:()=>(e=>{v((s=>((s={...s}).quiz[A].questions[_].answers.splice(e,1),s)))})(s),children:(0,q.jsxs)("p",{className:"text-red-600",children:[(0,q.jsx)(n.g,{className:"mr-1",icon:l.yLS}),"X\xf3a \u0111\xe1p \xe1n"]})})]}),(0,q.jsx)(b(),{config:{...N.A,placeholder:"Nh\u1eadp c\xe2u h\u1ecfi",askBeforePasteHTML:!1,defaultActionOnPaste:"insert_as_html"},className:"mt-2",value:e.content,onBlur:e=>((e,s)=>{v((t=>((t={...t}).quiz[A].questions[_].answers[s].content=e,t)))})(e,s)})]},s))))]}),(0,q.jsx)("button",{onClick:()=>{p&&v((e=>((e={...e}).quiz[A].questions[_].answers.push({content:"",isCorrect:!1}),e)))},className:"w-full py-3 rounded-md border-4 mt-4 border-dashed border-primary",children:(0,q.jsxs)("span",{className:"text-primary font-bold",children:[(0,q.jsx)(n.g,{icon:l.OQW,className:"mr-2"}),"Th\xeam \u0111\xe1p \xe1n"]})})]})]}),(0,q.jsx)(y.A,{isActive:w})]})},E=()=>{(0,a.useContext)(C);const[e,s]=(0,a.useState)(""),[t,r]=(0,a.useState)(k.getFullYear()),[i,n]=(0,a.useState)("");return(0,q.jsx)("section",{className:"w-full bg-white shadow px-3",children:(0,q.jsx)("div",{className:"col-span-7 flex flex-col gap-4 px-6 py-4 bg-white"})})},T=()=>{var e;const s=(0,r.Zp)(),[t,i]=(0,a.useState)(1);(0,a.useEffect)((()=>{window.scrollTo({top:0,behavior:"smooth"})}),[]);const o=[{key:1,label:"Th\xf4ng tin chung",icon:l.mEO},{key:2,label:"C\xe1c c\xe2u h\u1ecfi",icon:l.wRm},{key:3,label:"N\xe2ng cao",icon:l.KTq}],c={1:(0,q.jsx)(_,{}),2:(0,q.jsx)(S,{}),3:(0,q.jsx)(E,{})};return(0,q.jsxs)(A,{children:[(0,q.jsxs)("div",{className:"ml-2 py-2 flex justify-between",children:[(0,q.jsx)("h4",{className:"font-semibold",children:"Ch\u1ec9nh s\u1eeda \u0111\u1ec1 thi"}),(0,q.jsxs)("button",{className:"bg-red-500 text-white rounded-lg px-2",onClick:()=>s(-1),children:[(0,q.jsx)(n.g,{className:"mr-1",icon:l.Eze}),"Tr\u1edf l\u1ea1i"]})]}),(0,q.jsx)("div",{className:"w-full bg-white px-5 py-5 rounded-md shadow-sm",children:(0,q.jsx)("div",{className:"flex gap-9",children:o.map(((e,s)=>(0,q.jsxs)("div",{className:(t===e.key?"border-b-4 border-b-primary text-primary cursor-default":"hover:opacity-50 cursor-pointer border-b-4 border-b-white")+" flex flex-wrap items-center text-lg pb-2 px-1 transition-all duration-200 ease-linear text-gray-700",onClick:()=>i(e.key),children:[(0,q.jsx)(n.g,{className:"block",icon:e.icon}),(0,q.jsx)("p",{className:"pl-2",children:e.label})]},e.key)))})}),(0,q.jsx)("div",{className:"mt-9 w-full",children:null!==(e=c[t])&&void 0!==e?e:(0,q.jsx)(q.Fragment,{})})," "]})}},9519:(e,s,t)=>{t.d(s,{hG:()=>c,wn:()=>o,hj:()=>p,Wk:()=>x,h3:()=>l,iC:()=>m,mU:()=>h,qY:()=>n,J7:()=>d,z1:()=>u});var a=t(3491),r=t(307);const i=t(9246).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),n=async e=>{try{const t=new URLSearchParams;Object.entries(e).forEach((e=>{let[s,a]=e;void 0!=a&&t.append(s,String(a))}));const a=await r.A.get(`/quiz/mine?${t}`);var s;return 200===a.status&&a.data&&(null!==(s=a.data.data)&&void 0!==s)?s:[]}catch(a){var t;if(console.log(a),a.response)throw new Error(null===(t=a.response)||void 0===t?void 0:t.data)}},l=async e=>{try{const s=await r.A.get(`/quiz/detail?id=${e}`);return 200===s.status&&s.data?s.data.data:{}}catch(s){if(s.response)throw new Error(s.response.data)}},o=async e=>{try{const{name:s,description:t,school:a,subject:i,topic:n,schoolYear:l,educationLevel:o,thumb:c}=e,d=await r.A.post("/quiz/create",JSON.stringify({name:s,description:t,school:a,subject:i,topic:n,schoolYear:l,educationLevel:o,thumb:c}));return 200===d.status&&d.data?d.data.data:{}}catch(s){if(s.response)throw new Error(s.response.data)}},c=async e=>{try{const{id:s,partName:t,questionType:a,questionContent:i,answers:n}=e,l=await r.A.put("/quiz/createQuestion",JSON.stringify({id:s,partName:t,questionType:a,questionContent:i,answers:n}));return 200===l.status&&l.data?l.data.data:{}}catch(s){if(s.response)throw a.Ay.error(s.response.data),new Error(s.response.data)}},d=async e=>{try{const s=await r.A.put("/quiz/updateGeneralInfo",JSON.stringify(e));return 200===s.status&&s.data?s.data.data:{}}catch(s){if(s.response)throw a.Ay.error(s.response.data),new Error(s.response.data)}},u=async e=>{try{const s=await r.A.put("/quiz/updateQuestion",JSON.stringify(e));return 200===s.status&&s.data?s.data.data:s}catch(s){if(s.response)throw console.log(s.response),new Error(s.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const s=await i.get(`/quiz/preview/${e}`);return 200===s.status&&s.data?s.data.data:{}}catch(s){throw new Error(s.response.data)}},m=async e=>{try{if(!e)throw new Error("L\u1ed7i");const s=await r.A.get(`/quiz/forExam/${e}`);return 200===s.status&&s.data?s.data.data:{}}catch(s){throw new Error(s.response.data)}},p=async e=>{try{const{id:s}=e;if(!s)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const t=await r.A.delete(`/quiz/${s}/deleteQuiz`);return 200===t.status&&t.data?t.data.data:{}}catch(s){if(s.response)throw new Error(s.response.data)}},x=async e=>{try{const{name:s,page:t,limit:a,skip:r,subject:n,topic:l,schoolYear:o,educationLevel:c}=e,d=new URLSearchParams;Object.entries({name:s,page:t,limit:a,skip:r,subject:n,topic:l,schoolYear:o,educationLevel:c}).forEach((e=>{let[s,t]=e;void 0!==t&&d.append(s,String(t))}));const u=await i.get(`/quiz/discovery?${d}`);return 200===u.status&&u.data?u.data.data:[]}catch(s){throw new Error(s.response.data)}}}}]);