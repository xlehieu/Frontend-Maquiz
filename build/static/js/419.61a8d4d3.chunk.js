"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[419],{1036:(e,t,s)=>{s.d(t,{A:()=>N});var a=s(9324),r=s(4959),n=s(9950),i=s(6250),o=s(1032),c=s(4194),l=s(8429),d=s(2074),u=s(5996),h=s(4967),x=s(4159),m=s.n(x),p=s(8553),g=s(3571),j=s(8091),v=s(300),w=s(4643),f=s(4414);const y=e=>{let{name:t,slug:s,time:x,questionCount:y=0,accessCount:N=0,examCount:b=0,imageSrc:z,id:C,onDelete:A=!1,isFavorite:q=!1}=e;const E=(0,l.Zp)(),k=(0,v.wA)(),S=(0,v.d4)((e=>e.user)),$=(0,j.A)((e=>g.a2(e)));return(0,n.useEffect)((()=>{$.isSuccess&&$.reset()}),[$.isSuccess]),q=S.favoriteQuiz.some((e=>e.slug===s)),(0,f.jsxs)("div",{className:"shrink-0 max-w-80 transition-all duration-300 shadow-lg rounded hover:shadow-2xl",children:[(0,f.jsx)("div",{onClick:()=>E(`${u.HR.reviewQuiz}/${s}`),className:"w-full h-52 flex justify-center content-center hover:cursor-pointer",children:(0,f.jsx)(c.A,{src:z,alt:t,placeholder:(0,f.jsx)(i.A,{color:o.Tj.primary})})}),(0,f.jsxs)("div",{className:"px-2 py-3",children:[(0,f.jsx)("p",{className:"font-bold text-base line-clamp-2",children:t}),x&&(0,f.jsxs)("div",{className:"flex items-center gap-1",children:[(0,f.jsx)(r.g,{className:"text-orange-900",icon:a.APe}),(0,f.jsx)("p",{className:"text-gray-700",children:m()(x).format("DD/MM/YYYY")})]}),(0,f.jsx)("div",{className:"mt-2",children:(0,f.jsxs)("div",{className:"text-base flex gap-3",children:[(0,f.jsxs)(h.A,{trigger:"hover",content:"C\xe2u h\u1ecfi",children:[(0,f.jsx)(r.g,{icon:a.APe,className:"mr-1 text-yellow-500"}),(0,f.jsx)("span",{className:"text-gray-700",children:null!==y&&void 0!==y?y:0})]}),(0,f.jsxs)(h.A,{trigger:"hover",content:"L\u01b0\u1ee3t truy c\u1eadp",children:[(0,f.jsx)(r.g,{icon:a.s67,className:"mr-1 text-blue-500"}),(0,f.jsx)("span",{className:"text-gray-700",children:null!==N&&void 0!==N?N:0})]}),(0,f.jsxs)(h.A,{trigger:"hover",content:"S\u1ed1 l\u01b0\u1ee3t thi",children:[(0,f.jsx)(r.g,{icon:a.yjc,className:"mr-1 text-green-500"}),(0,f.jsx)("span",{className:"text-gray-700",children:null!==b&&void 0!==b?b:0})]})]})})]}),A&&(0,f.jsx)("div",{className:"px-2 py-2 border-t-2",children:(0,f.jsx)("div",{className:"mt-2",children:(0,f.jsx)("div",{className:"text-base flex gap-3",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.A,{trigger:"hover",content:"Xem chi ti\u1ebft",children:(0,f.jsx)("button",{onClick:()=>E(`${u.tX.myQuiz}/${C}`),children:(0,f.jsx)(r.g,{icon:a.pS3,className:"pr-1 text-[#f27735]"})})}),(0,f.jsx)(h.A,{trigger:"hover",content:"Ch\u1ec9nh s\u1eeda \u0111\u1ec1 thi",children:(0,f.jsx)("button",{onClick:()=>E(`${u.tX.myQuiz}/chinh-sua/${C}`),children:(0,f.jsx)(r.g,{icon:a.MT7,className:"pr-1 text-[#851e3f]"})})}),(0,f.jsx)(h.A,{trigger:"hover",content:"X\xf3a \u0111\u1ec1 thi",children:(0,f.jsx)("button",{onClick:A,children:(0,f.jsx)(r.g,{icon:a.sjs,className:"pr-1 text-red-500"})})})]})})})}),(0,f.jsxs)("div",{className:"px-3 py-3 border-t-2 flex justify-between",children:[(0,f.jsxs)(d.N_,{to:`${u.HR.reviewQuiz}/${s}`,className:"inline-block rounded border hover:text-white hover:opacity-80 ease-linear transition-all duration-200 text-white bg-gradient-to-r from-primary to-[#1e998c] px-2 py-2",children:[(0,f.jsx)(r.g,{icon:a.e74,className:"pr-1"}),"V\xe0o \xf4n thi"]}),(0,f.jsx)("button",{onClick:()=>((e,t)=>{e&&($.mutate({id:e}),k((0,w.a2)({slug:t})))})(C,s),children:(0,f.jsx)(r.g,{className:"text-red-500 text-2xl",icon:q?a.qcK:p.qcK})})]})]})},N=(0,n.memo)(y)},9419:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var a=s(9324),r=s(4959),n=s(9950),i=s(1036);s(5996);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[s,a]=(0,n.useState)(e);return(0,n.useEffect)((()=>{const s=setTimeout((()=>{a(e)}),t);return()=>clearTimeout(s)}),[e]),s};var c=s(8091),l=s(9519),d=s(62),u=s(5448),h=s(1759),x=s(1032),m=s(4414);const p=(0,n.createContext)(),g={2e3:"2000"},j=(new Date).getFullYear();g[j]=j;const v=e=>{let{children:t}=e;const[s,a]=(0,n.useState)([]);return(0,m.jsx)(p.Provider,{value:{quizzes:s,setQuizzes:a},children:t})},w=()=>{const{quizzes:e,setQuizzes:t}=(0,n.useContext)(p),[s,i]=(0,n.useState)([2e3,j]),c=o(s);return(0,n.useEffect)((()=>{console.log(s)}),[c]),(0,m.jsxs)("aside",{className:"z-10 bg-white w-56 shadow-lg hidden md:block rounded",children:[(0,m.jsx)("div",{children:(0,m.jsx)(r.g,{icon:a.mRM,className:"mt-4 ml-4 text-orange-300 text-xl"})}),(0,m.jsxs)("div",{className:"flex flex-col mx-4 mt-3",children:[(0,m.jsx)("p",{children:"N\u0103m h\u1ecdc"}),(0,m.jsx)(u.A,{value:s,range:!0,marks:g,defaultValue:s,onChange:e=>i(e),min:2e3,max:j})]})]})},f=()=>{var e,t;const{quizzes:s,setQuizzes:u}=(0,n.useContext)(p),[g,j]=(0,n.useState)(""),v=o(g),w=(0,c.A)((e=>l.Wk(e)));(0,n.useEffect)((()=>{v.trim()&&w.mutate({name:v})}),[v]),(0,n.useEffect)((()=>{var e;u(null!==(e=w.data)&&void 0!==e?e:[])}),[w.data]),(0,n.useEffect)((()=>{w.mutate({skip:0,limit:x.md})}),[]);return(0,m.jsxs)("section",{className:"rounded-lg px-3 py-4 flex-1 bg-white shadow-xl",children:[w.isPending?(0,m.jsx)(d.A,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"flex justify-between border-b pb-2",children:(0,m.jsxs)("div",{className:"flex items-center rounded-md px-2 py-1 border border-gray-400 text-gray-700 focus-within:border-primary focus-within:shadow",children:[(0,m.jsx)(r.g,{icon:a.MjD,className:"text-gray-700"}),(0,m.jsx)("input",{value:g,onChange:e=>j(e.target.value),className:"min-w-52 ml-2 outline-none caret-primary",placeholder:"Nh\u1eadp t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})}),(0,m.jsx)("div",{className:"grid w-full grid-cols-2 gap-4 px-0 py-10 sm:grid-cols-3 md:grid-cols-4  2xl:grid-cols-5",children:(null===s||void 0===s||null===(e=s.quizzes)||void 0===e?void 0:e.length)>0&&(0,m.jsx)(m.Fragment,{children:null===s||void 0===s||null===(t=s.quizzes)||void 0===t?void 0:t.map(((e,t)=>(0,m.jsx)(i.A,{name:e.name,accessCount:e.accessCount,examCount:e.examCount,imageSrc:e.thumb,id:e._id,slug:e.slug,questionCount:e.questionCount},t)))})})]}),(0,m.jsx)(h.A,{align:"end",onChange:e=>(e=>{w.mutate({skip:e-1,limit:x.md})})(e),defaultCurrent:1,defaultPageSize:x.md,total:(null===s||void 0===s?void 0:s.total)||x.md})]})},y=()=>(0,m.jsx)(v,{children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("h1",{className:"text-xl font-medium text-gray-700 pb-3",children:"Kh\xe1m ph\xe1 \u0111\u1ec1 thi"}),(0,m.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,m.jsx)(w,{}),(0,m.jsx)(f,{})]})]})})},9519:(e,t,s)=>{s.d(t,{hG:()=>l,wn:()=>c,hj:()=>m,Wk:()=>p,h3:()=>o,iC:()=>x,mU:()=>h,qY:()=>i,J7:()=>d,z1:()=>u});var a=s(3491),r=s(307);const n=s(9246).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),i=async e=>{try{const s=new URLSearchParams;Object.entries(e).forEach((e=>{let[t,a]=e;void 0!=a&&s.append(t,String(a))}));const a=await r.A.get(`/quiz/mine?${s}`);var t;return 200===a.status&&a.data&&(null!==(t=a.data.data)&&void 0!==t)?t:[]}catch(a){var s;if(console.log(a),a.response)throw new Error(null===(s=a.response)||void 0===s?void 0:s.data)}},o=async e=>{try{const t=await r.A.get(`/quiz/detail?id=${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},c=async e=>{try{const{name:t,description:s,school:a,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}=e,d=await r.A.post("/quiz/create",JSON.stringify({name:t,description:s,school:a,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}));return 200===d.status&&d.data?d.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},l=async e=>{try{const{id:t,partName:s,questionType:a,questionContent:n,answers:i}=e,o=await r.A.put("/quiz/createQuestion",JSON.stringify({id:t,partName:s,questionType:a,questionContent:n,answers:i}));return 200===o.status&&o.data?o.data.data:{}}catch(t){if(t.response)throw a.Ay.error(t.response.data),new Error(t.response.data)}},d=async e=>{try{const t=await r.A.put("/quiz/updateGeneralInfo",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw a.Ay.error(t.response.data),new Error(t.response.data)}},u=async e=>{try{const t=await r.A.put("/quiz/updateQuestion",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:t}catch(t){if(t.response)throw console.log(t.response),new Error(t.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await n.get(`/quiz/preview/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},x=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await r.A.get(`/quiz/forExam/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},m=async e=>{try{const{id:t}=e;if(!t)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const s=await r.A.delete(`/quiz/${t}/deleteQuiz`);return 200===s.status&&s.data?s.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},p=async e=>{try{const{name:t,page:s,limit:a,skip:r,subject:i,topic:o,schoolYear:c,educationLevel:l}=e,d=new URLSearchParams;Object.entries({name:t,page:s,limit:a,skip:r,subject:i,topic:o,schoolYear:c,educationLevel:l}).forEach((e=>{let[t,s]=e;void 0!==s&&d.append(t,String(s))}));const u=await n.get(`/quiz/discovery?${d}`);return 200===u.status&&u.data?u.data.data:[]}catch(t){throw new Error(t.response.data)}}}}]);