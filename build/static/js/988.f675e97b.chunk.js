"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{988:(e,r,a)=>{a.r(r),a.d(r,{default:()=>h});var t=a(7565),s=a(3654),o=a(6248),l=a(5312),n=a(2565);const c=(0,l.Wp)({apiKey:"AIzaSyDkrD2M49xMwQbY_68nqSP3XuwhfnVoipo",authDomain:"mah-auth.firebaseapp.com",projectId:"mah-auth",storageBucket:"mah-auth.appspot.com",messagingSenderId:"888851926754",appId:"1:888851926754:web:960d40cd4d0cac900e58bb",measurementId:"G-X2FYH40860"}),i=(0,n.c7)(c);var d=a(97),u=a(1030),p=a(345),m=a(8415),g=a(7929);const h=()=>{const[e,r]=(0,t.useState)(""),[a,l]=(0,t.useState)(""),[c,h]=(0,t.useState)(""),[y,f]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[k,w]=(0,t.useState)(""),[v,j]=(0,t.useState)(""),[N,L]=(0,t.useState)(""),[z,S]=(0,t.useState)(!1),q=(0,u.Zp)(),A=async r=>{if(S(!0),r.preventDefault(),!e||!a||!c||!y||!b||!k||!v)return d.Ay.error("Th\xeam s\u1ea3n ph\u1ea9m kh\xf4ng th\xe0nh c\xf4ng, thi\u1ebfu d\u1eef li\u1ec7u "),void S(!1);if(!(0,s.Et)(c)||!(0,s.Et)(y)||!(0,s.Et)(b))return d.Ay.error("Gi\xe1, Gi\u1ea3m gi\xe1, s\u1ed1 l\u01b0\u1ee3ng ph\u1ea3i l\xe0 d\u1ea1ng s\u1ed1"),void S(!1);let t;const l=(0,n.KR)(i,`uploadProductThumbnail/${v.name}`);await(0,n.D)(l,v).then((async e=>{await(0,n.qk)(e.ref).then((e=>{t=e}))}));const u=localStorage.getItem("access_token"),p={name:e,description:a,price:c,discount:y,quantity:b,category:k,thumb:t},g=await(async(e,r)=>await o.W(e,r))(p,u);"OK"===(null===g||void 0===g?void 0:g.status)&&(d.Ay.success("Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng"),q(m.Ay.adminProduct)),S(!1)};return(0,g.jsxs)("form",{className:"container mx-auto grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",method:"post",children:[(0,g.jsxs)("div",{className:"md:col-span-1 lg:col-span-2",children:[(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 ",children:[(0,g.jsx)("input",{name:"name",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primaryLight focus:outline-none focus:ring-0 focus:border-primary peer",placeholder:"",value:e,onChange:e=>r(e.target.value),required:!0}),(0,g.jsx)("label",{htmlFor:"name",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-primary peer-focus:dark:text-primaryLight peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"T\xean s\u1ea3n ph\u1ea9m"})]}),(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("label",{htmlFor:"description",className:"block mb-2 text-sm font-normal text-gray-500 dark:text-white",children:"M\xf4 t\u1ea3"}),(0,g.jsx)("textarea",{id:"description",rows:"4",value:a,onChange:e=>l(e.target.value),className:"outline-none block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-primaryLight dark:bg-gray-300 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primaryLight dark:focus:border-priring-primaryLight",placeholder:"M\xf4 t\u1ea3 s\u1ea3n ph\u1ea9m"})]}),(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("input",{name:"category",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primaryLight focus:outline-none focus:ring-0 focus:border-primary peer",placeholder:" ",required:!0,onChange:e=>w(e.target.value),value:k}),(0,g.jsx)("label",{htmlFor:"category",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-primary peer-focus:dark:text-primaryLight peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Danh m\u1ee5c s\u1ea3n ph\u1ea9m"})]}),(0,g.jsx)("div",{className:"relative z-0 w-full justify-end flex",children:(0,g.jsx)("button",{type:"submit",onClick:e=>A(e),disabled:z,className:"text-white disabled:cursor-not-allowed sm:w-full lg:w-40  bg-primary hover:bg-primaryLight focus:ring-4 focus:outline-none focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-orange-600 dark:hover:bg-orange-700 dark:focus:ring-orange-800",children:z?(0,g.jsx)(p.A,{}):"Th\xeam s\u1ea3n ph\u1ea9m"})})]}),(0,g.jsxs)("div",{className:"col-span-1",children:[(0,g.jsxs)("div",{className:"md:gap-6",children:[(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("input",{name:"price",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primaryLight focus:outline-none focus:ring-0 focus:border-primary peer",placeholder:" ",required:!0,onChange:e=>h(e.target.value),value:c}),(0,g.jsx)("label",{htmlFor:"price",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-primary peer-focus:dark:text-primaryLight peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Gi\xe1"})]}),(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("input",{name:"discount",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primaryLight focus:outline-none focus:ring-0 focus:border-primary peer",placeholder:" ",required:!0,value:y,onChange:e=>f(e.target.value)}),(0,g.jsx)("label",{htmlFor:"discount",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-primary peer-focus:dark:text-primaryLight peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"Gi\u1ea3m gi\xe1"})]}),(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("input",{type:"text",name:"quantity",className:"block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white dark:border-gray-600 dark:focus:border-primaryLight focus:outline-none focus:ring-0 focus:border-primary peer",placeholder:" ",required:!0,onChange:e=>x(e.target.value),value:b}),(0,g.jsx)("label",{htmlFor:"quantity",className:"peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-primary peer-focus:dark:text-primaryLight peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6",children:"S\u1ed1 l\u01b0\u1ee3ng"})]})]}),(0,g.jsx)("div",{className:"",children:(0,g.jsxs)("div",{className:"relative z-0 w-full mb-5 group",children:[(0,g.jsx)("label",{className:"block mb-2 font-normal text-sm  text-gray-500 dark:text-white",htmlFor:"user_avatar",children:"Thumb"}),(0,g.jsx)("input",{className:"block w-full text-sm  text-gray-500 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 dark:text-gray-400 focus:outline-none dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400","aria-describedby":"user_avatar_help",id:"user_avatar",type:"file",accept:"image/*",onChange:e=>(async e=>{j(e),e=await(0,s.jt)(e),L(e)})(e.target.files[0])}),N&&(0,g.jsx)("img",{className:"rounded-sm",src:N,alt:""})]})})]})]})}},6248:(e,r,a)=>{a.d(r,{F:()=>o,W:()=>l});var t=a(201);const s={"Content-Type":"application/json"},o=async e=>{e<0&&(e=0);const r=await t.A.get(`http://localhost:3001/api/product?page=${e}`);if(r)return r.data},l=async(e,r)=>{const a=await t.A.post("http://localhost:3001/api/product/create",JSON.stringify(e),{headers:{...s,authorization:r}});if(a)return a.data}},3654:(e,r,a)=>{a.d(r,{Et:()=>o,LE:()=>s,jt:()=>t,yX:()=>l});const t=e=>new Promise(((r,a)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=()=>r(t.result),t.onerror=e=>a(e)}));const s=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),o=e=>{try{return!isNaN(e)}catch{return!1}},l=e=>Array.isArray(e)?e.reduce(((e,r)=>{var a;return e+(null===r||void 0===r||null===(a=r.questions)||void 0===a?void 0:a.length)}),0):0}}]);
//# sourceMappingURL=988.f675e97b.chunk.js.map