"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[569],{6088:(e,t,a)=>{a.d(t,{A:()=>C});var r=a(7953),s=a(5113),n=a(7565),i=a(7898),o=a(1122),c=function(){return c=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var s in t=arguments[a])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},c.apply(this,arguments)},l=function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(a[r[s]]=e[r[s]])}return a},d=(0,o.J)("ScaleLoader","0% {transform: scaley(1.0)} 50% {transform: scaley(0.4)} 100% {transform: scaley(1.0)}","scale");const u=function(e){var t=e.loading,a=void 0===t||t,r=e.color,s=void 0===r?"#000000":r,o=e.speedMultiplier,u=void 0===o?1:o,h=e.cssOverride,m=void 0===h?{}:h,p=e.height,x=void 0===p?35:p,g=e.width,y=void 0===g?4:g,v=e.radius,j=void 0===v?2:v,w=e.margin,f=void 0===w?2:w,b=l(e,["loading","color","speedMultiplier","cssOverride","height","width","radius","margin"]),N=c({display:"inherit"},m),z=function(e){return{backgroundColor:s,width:(0,i.p)(y),height:(0,i.p)(x),margin:(0,i.p)(f),borderRadius:(0,i.p)(j),display:"inline-block",animation:"".concat(d," ").concat(1/u,"s ").concat(.1*e,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return a?n.createElement("span",c({style:N},b),n.createElement("span",{style:z(1)}),n.createElement("span",{style:z(2)}),n.createElement("span",{style:z(3)}),n.createElement("span",{style:z(4)}),n.createElement("span",{style:z(5)})):null};var h=a(1689),m=a(4705),p=a(1030),x=a(477),g=a(8415),y=a(6146),v=a(1932),j=a.n(v),w=a(2911),f=a(6020),b=a(1958),N=a(723),z=a(2562),A=a(7929);const E=e=>{let{title:t,slug:a,time:i,questionCount:o=0,accessCount:c=0,examCount:l=0,imageSrc:d,id:v,onDelete:E=!1,isFavorite:C=!1}=e;const q=(0,p.Zp)(),S=(0,N.wA)(),k=(0,N.d4)((e=>e.user)),O=(0,b.A)((e=>f.a2(e)));return(0,n.useEffect)((()=>{O.isSuccess&&O.reset()}),[O.isSuccess]),C=k.favoriteQuiz.some((e=>e.slug===a)),(0,A.jsxs)("div",{className:"shrink-0 max-w-80 transition-all duration-300 shadow-lg rounded hover:shadow-2xl",children:[(0,A.jsx)("div",{onClick:()=>q(`${g.HR.reviewQuiz}/${a}`),className:"w-full h-52 flex justify-center content-center hover:cursor-pointer",children:(0,A.jsx)(m.A,{src:d,alt:t,placeholder:(0,A.jsx)(u,{color:h.Tj.primary})})}),(0,A.jsxs)("div",{className:"px-2 py-3",children:[(0,A.jsx)("p",{className:"font-bold text-base line-clamp-2",children:t}),i&&(0,A.jsxs)("div",{className:"flex items-center gap-1",children:[(0,A.jsx)(s.g,{className:"text-orange-900",icon:r.APe}),(0,A.jsx)("p",{className:"text-gray-700",children:j()(i).format("DD/MM/YYYY")})]}),(0,A.jsx)("div",{className:"mt-2",children:(0,A.jsxs)("div",{className:"text-base flex gap-3",children:[(0,A.jsxs)(y.A,{trigger:"hover",content:"C\xe2u h\u1ecfi",children:[(0,A.jsx)(s.g,{icon:r.APe,className:"mr-1 text-yellow-500"}),(0,A.jsx)("span",{className:"text-gray-700",children:null!==o&&void 0!==o?o:0})]}),(0,A.jsxs)(y.A,{trigger:"hover",content:"L\u01b0\u1ee3t truy c\u1eadp",children:[(0,A.jsx)(s.g,{icon:r.s67,className:"mr-1 text-blue-500"}),(0,A.jsx)("span",{className:"text-gray-700",children:null!==c&&void 0!==c?c:0})]}),(0,A.jsxs)(y.A,{trigger:"hover",content:"S\u1ed1 l\u01b0\u1ee3t thi",children:[(0,A.jsx)(s.g,{icon:r.yjc,className:"mr-1 text-green-500"}),(0,A.jsx)("span",{className:"text-gray-700",children:null!==l&&void 0!==l?l:0})]})]})})]}),E&&(0,A.jsx)("div",{className:"px-2 py-2 border-t-2",children:(0,A.jsx)("div",{className:"mt-2",children:(0,A.jsx)("div",{className:"text-base flex gap-3",children:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(y.A,{trigger:"hover",content:"Xem chi ti\u1ebft",children:(0,A.jsx)("button",{onClick:()=>q(`${g.tX.myQuiz}/${v}`),children:(0,A.jsx)(s.g,{icon:r.pS3,className:"pr-1 text-[#f27735]"})})}),(0,A.jsx)(y.A,{trigger:"hover",content:"Ch\u1ec9nh s\u1eeda \u0111\u1ec1 thi",children:(0,A.jsx)("button",{onClick:()=>q(`${g.tX.myQuiz}/chinh-sua/${v}`),children:(0,A.jsx)(s.g,{icon:r.MT7,className:"pr-1 text-[#851e3f]"})})}),(0,A.jsx)(y.A,{trigger:"hover",content:"X\xf3a \u0111\u1ec1 thi",children:(0,A.jsx)("button",{onClick:E,children:(0,A.jsx)(s.g,{icon:r.sjs,className:"pr-1 text-red-500"})})})]})})})}),(0,A.jsxs)("div",{className:"px-3 py-3 border-t-2 flex justify-between",children:[(0,A.jsxs)(x.N_,{to:`${g.HR.reviewQuiz}/${a}`,className:"inline-block rounded border hover:text-white hover:opacity-80 ease-linear transition-all duration-200 text-white bg-gradient-to-r from-primary to-[#1e998c] px-2 py-2",children:[(0,A.jsx)(s.g,{icon:r.e74,className:"pr-1"}),"V\xe0o \xf4n thi"]}),(0,A.jsx)("button",{onClick:()=>((e,t)=>{e&&(O.mutate({id:e}),S((0,z.a2)({slug:t})))})(v,a),children:(0,A.jsx)(s.g,{className:"text-red-500 text-2xl",icon:C?r.qcK:w.qcK})})]})]})},C=(0,n.memo)(E)},9569:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var r=a(7953),s=a(5113),n=a(7565),i=a(723),o=a(477),c=a(6088),l=a(8415);const d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;const[a,r]=(0,n.useState)(e);return(0,n.useEffect)((()=>{const a=setTimeout((()=>{r(e)}),t);return()=>clearTimeout(a)}),[e]),a};var u=a(1958),h=a(328),m=(a(6020),a(3654),a(2562),a(7929));const p=[{label:"C\xe1 nh\xe2n",children:[{label:"Th\u01b0 vi\u1ec7n c\u1ee7a t\xf4i",icon:r.muz,to:l.tX.myDashboard},{label:"Truy c\u1eadp g\u1ea7n \u0111\xe2y",icon:r.Yj9,to:l.tX.historyAccess},{label:"\u0110\u1ec1 thi y\xeau th\xedch ",icon:r.qcK}]},{label:"Qu\u1ea3n l\xfd",children:[{label:"\u0110\u1ec1 thi",icon:r.ReK,to:l.tX.myQuiz}]}],x=(0,n.createContext)(),g=e=>{let{children:t}=e;const[a,r]=(0,n.useState)([]),[s,i]=(0,n.useState)(""),o=d(s),c=(0,u.A)((e=>h.Wk(e)));return(0,n.useEffect)((()=>{o.trim()&&c.mutate({name:o})}),[o]),(0,n.useEffect)((()=>{var e;r(null!==(e=c.data)&&void 0!==e?e:[])}),[c.data]),(0,m.jsx)(x.Provider,{value:{quizzes:a,searchValue:s,setSearchValue:i},children:t})},y=()=>(0,m.jsx)("aside",{className:"z-10 bg-white w-56 shadow-lg hidden md:block rounded",children:(0,m.jsx)("ul",{children:p.map(((e,t)=>(0,m.jsxs)("li",{children:[(0,m.jsx)("div",{className:"text-sm pl-2 text-gray-400 py-2",children:e.label}),(0,m.jsx)("div",{children:(0,m.jsx)("ul",{className:"flex flex-col",children:e.children.map(((e,t)=>(0,m.jsx)("li",{className:"flex",children:(0,m.jsxs)(o.N_,{to:e.to,className:"pl-8 text-gray-700 flex-1 text-base py-3 px-2 hover:text-primary ease-linear duration-200 transition-all hover:bg-opacity-10 hover:bg-slate-600 hover:rounded-3xl",children:[(0,m.jsx)(s.g,{className:"mr-2",icon:e.icon}),e.label]},t)},t)))})})]},t)))})}),v=()=>{const{quizzes:e,searchValue:t,setSearchValue:a}=(0,n.useContext)(x),o=((0,i.wA)(),(0,i.d4)((e=>e.user)));return console.log(o),(0,m.jsxs)("section",{className:"rounded-lg px-3 py-4 flex-1 bg-white shadow-xl",children:[(0,m.jsx)("div",{className:"flex justify-between border-b pb-2",children:(0,m.jsxs)("div",{className:"flex items-center rounded-md px-2 py-1 border border-gray-400 text-gray-700 focus-within:border-primary focus-within:shadow",children:[(0,m.jsx)(s.g,{icon:r.MjD,className:"text-gray-700"}),(0,m.jsx)("input",{value:t,onChange:e=>a(e.target.value),className:"min-w-52 ml-2 outline-none caret-primary",placeholder:"Nh\u1eadp t\u1eeb kh\xf3a t\xecm ki\u1ebfm"})]})}),(0,m.jsx)("div",{className:"grid w-full grid-cols-2 gap-4 px-0 py-10 sm:grid-cols-3 md:grid-cols-4  2xl:grid-cols-5",children:(null===e||void 0===e?void 0:e.length)>0&&(0,m.jsx)(m.Fragment,{children:e.map(((e,t)=>(0,m.jsx)(c.A,{title:e.name,accessCount:e.accessCount,examCount:e.examCount,imageSrc:e.thumb,id:e._id,slug:e.slug},t)))})})]})},j=()=>(0,m.jsx)(g,{children:(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)("h1",{className:"text-xl font-medium text-gray-700",children:"T\xecm ki\u1ebfm \u0111\u1ec1 thi"}),(0,m.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,m.jsx)(y,{}),(0,m.jsx)(v,{})]})]})})},328:(e,t,a)=>{a.d(t,{hG:()=>l,wn:()=>c,hj:()=>p,Wk:()=>x,h3:()=>o,iC:()=>m,mU:()=>h,qY:()=>i,J7:()=>d,z1:()=>u});var r=a(97),s=a(2620);const n=a(201).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),i=async()=>{try{const t=await s.A.get("/quiz/getQuizzes");var e;if(200===t.status&&t.data)return await(a=2e3,new Promise((e=>setTimeout(e,a)))),null!==(e=t.data.data)&&void 0!==e?e:[]}catch(r){var t;if(r.response)throw new Error(null===(t=r.response)||void 0===t?void 0:t.data)}var a},o=async e=>{try{const t=await s.A.get(`/quiz/getQuizDetail?id=${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},c=async e=>{try{const{name:t,description:a,school:r,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}=e,d=await s.A.post("/quiz/create",JSON.stringify({name:t,description:a,school:r,subject:n,topic:i,schoolYear:o,educationLevel:c,thumb:l}));return 200===d.status&&d.data?d.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},l=async e=>{try{const{id:t,partName:a,questionType:r,questionContent:n,answers:i}=e,o=await s.A.put("/quiz/createQuestion",JSON.stringify({id:t,partName:a,questionType:r,questionContent:n,answers:i}));return 200===o.status&&o.data?o.data.data:{}}catch(t){if(t.response)throw r.Ay.error(t.response.data),new Error(t.response.data)}},d=async e=>{try{const t=await s.A.put("/quiz/updateQuizGeneralInfo",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw r.Ay.error(t.response.data),new Error(t.response.data)}},u=async e=>{try{const t=await s.A.put("/quiz/updateQuizQuestion",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:t}catch(t){if(t.response)throw console.log(t.response),new Error(t.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await n.get(`/quiz/getQuizPreview/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},m=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await s.A.get(`/quiz/getQuizForExam/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},p=async e=>{try{const{id:t}=e;if(!t)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const a=await s.A.delete(`/quiz/deleteQuiz/${t}`);return 200===a.status&&a.data?a.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},x=async e=>{try{const{name:t,page:a,limit:r,subject:s,topic:i,schoolYear:o,educationLevel:c}=e,l=new URLSearchParams;Object.entries({name:t,page:a,limit:r,subject:s,topic:i,schoolYear:o,educationLevel:c}).forEach((e=>{let[t,a]=e;void 0!==a&&l.append(t,String(a))}));const d=await n.get(`/quiz/getDiscoveryQuizzes?${l}`);return 200===d.status&&d.data?d.data.data:[]}catch(t){throw new Error(t.response.data)}}},3654:(e,t,a)=>{a.d(t,{Et:()=>n,LE:()=>s,jt:()=>r,yX:()=>i});const r=e=>new Promise(((t,a)=>{const r=new FileReader;r.readAsDataURL(e),r.onload=()=>t(r.result),r.onerror=e=>a(e)}));const s=new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}),n=e=>{try{return!isNaN(e)}catch{return!1}},i=e=>Array.isArray(e)?e.reduce(((e,t)=>{var a;return e+(null===t||void 0===t||null===(a=t.questions)||void 0===a?void 0:a.length)}),0):0}}]);
//# sourceMappingURL=569.e30b9c39.chunk.js.map