(self.webpackChunkclient=self.webpackChunkclient||[]).push([[811],{6003:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});i(7565);var r=i(3003),a=i(1689),n=i(7929);const s=()=>(0,n.jsx)("div",{className:"w-full h-screen relative",children:(0,n.jsx)(r.A,{color:a.Tj.primary,size:100,className:"absolute mx-auto top-1/2 -translate-y-full"})})},7811:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>b});var r=i(5113),a=i(97),n=i(7565),s=i(1030),o=i(4765),l=(i(2543),i(328)),c=i(7953),d=i(2911),u=i(1932),h=i.n(u),v=i(8415),p=i(6146),m=i(4705),f=i(7929);const g=e=>{var t,i,a;let{quizDetail:o}=e;const l=(0,s.Zp)(),u=(0,n.useMemo)((()=>{var e,t;return(null===o||void 0===o||null===(e=o.quiz)||void 0===e?void 0:e.length)>0?null===o||void 0===o||null===(t=o.quiz)||void 0===t?void 0:t.reduce(((e,t)=>{var i;return e+(null===t||void 0===t||null===(i=t.questions)||void 0===i?void 0:i.length)}),0):0}),[o]);return(0,f.jsxs)("div",{className:"px-2 py-2 rounded-sm shadow-md border bg-white",children:[(0,f.jsx)("h6",{className:"font-semibold",children:"Th\xf4ng tin \u0111\u1ec1 thi"}),(0,f.jsxs)("div",{className:"grid grid-cols-3 mt-2 gap-3",children:[(0,f.jsx)("div",{className:"col-span-1",children:(0,f.jsx)(m.A,{alt:null===o||void 0===o?void 0:o.name,src:null===o||void 0===o?void 0:o.thumb,className:"w-full h-52 object-cover rounded"})}),(0,f.jsx)("div",{className:"col-span-1",children:(0,f.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,f.jsx)("p",{className:"font-semibold text-lg",children:null===o||void 0===o?void 0:o.name}),(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(m.A,{className:"w-9 h-9 rounded-full overflow-hidden",src:null===o||void 0===o||null===(t=o.user)||void 0===t?void 0:t.avatar,alt:`avatar ${null===o||void 0===o||null===(i=o.user)||void 0===i?void 0:i.name}`}),(0,f.jsx)("p",{className:"inline ml-2",children:null===o||void 0===o||null===(a=o.user)||void 0===a?void 0:a.name})]}),(null===o||void 0===o?void 0:o.createdAt)&&(0,f.jsxs)("div",{className:"mt-2",children:[(0,f.jsx)(r.g,{icon:d.a$,className:"text-lg inline"}),(0,f.jsx)("p",{className:"inline ml-2",children:(null===o||void 0===o?void 0:o.createdAt)&&h()(null===o||void 0===o?void 0:o.createdAt).format("DD/MM/YYYY")})]}),(0,f.jsxs)("div",{className:"mt-2 flex gap-4",children:[(0,f.jsx)(p.A,{content:"S\u1ed1 c\xe2u h\u1ecfi",trigger:"hover",children:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.g,{icon:c.wRm,className:"mr-2 text-yellow-500"}),u]})}),(0,f.jsxs)(p.A,{content:"L\u01b0\u1ee3t thi",trigger:"hover",children:[(0,f.jsx)(r.g,{icon:c.yjc,className:"mr-2 text-green-500"}),null===o||void 0===o?void 0:o.examCount]}),(0,f.jsxs)(p.A,{content:"L\u01b0\u1ee3t truy c\u1eadp",trigger:"hover",children:[(0,f.jsx)(r.g,{icon:c.s67,className:"mr-2 text-blue-500"}),null===o||void 0===o?void 0:o.accessCount]})]}),(null===o||void 0===o?void 0:o.school)&&(0,f.jsx)("div",{className:"mt-2",children:(0,f.jsxs)("p",{className:"font-medium",children:["Tr\u01b0\u1eddng h\u1ecdc: ",null===o||void 0===o?void 0:o.school]})})]})}),(0,f.jsx)("div",{className:"col-span-1",children:"Hello"}),(0,f.jsx)("div",{className:"col-start-2 col-end-2",children:(0,f.jsxs)("button",{onClick:async()=>{l(`${v.HR.takeQuiz}/${null===o||void 0===o?void 0:o.slug}`)},className:"bg-gradient-to-r from-primary to-green-700 text-white rounded hover:opacity-60 duration-300 w-full py-1",children:[(0,f.jsx)(r.g,{icon:c.e74,className:"mr-2"}),"B\u1eaft \u0111\u1ea7u \xf4n thi"]})})]})]})},x=(0,n.memo)(g);var y=i(1689),w=i(6003),j=i(7911);const b=()=>{var e,t,i,d,u,h,v,p,m,g,b,_,N;const{slug:A}=(0,s.g)(),q=(0,j.I)({queryKey:["QueryQuizPreviewBySlug",A],queryFn:()=>l.mU(A)}),[z,k]=(0,n.useState)(1),[O,E]=(0,n.useState)(0);(0,n.useEffect)((()=>{var e;document.title=(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.name)||"Maquiz"}),[q.data]),(0,n.useEffect)((()=>{null!==q&&void 0!==q&&q.isError&&a.Ay.error(q.error.message)}),[q.isError]);const S=[{key:1,label:"N\u1ed9i dung \u0111\u1ec1 thi",icon:c.ReK}],C={1:(0,f.jsx)(f.Fragment,{children:(null===q||void 0===q||null===(e=q.data)||void 0===e?void 0:e.quiz)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:"scrollbar-thumb-white scrollbar-track-white",children:(0,f.jsx)("div",{className:"flex gap-5 overflow-scroll scrollbar-thin pb-4",children:null===q||void 0===q||null===(t=q.data)||void 0===t?void 0:t.quiz.map(((e,t)=>(0,f.jsx)("button",{onClick:()=>E(t),className:"rounded-3xl px-4 py-2 whitespace-nowrap "+(O==t?"bg-primary border-primary text-white":"border-gray-600 text-gray-600"),children:null===e||void 0===e?void 0:e.partName},t)))})}),(0,f.jsx)("div",{className:"relative",children:(null===q||void 0===q||null===(i=q.data)||void 0===i||null===(d=i.quiz[O])||void 0===d?void 0:d.questions)instanceof Array&&(0,f.jsxs)("div",{className:"relative",children:[(null===q||void 0===q||null===(u=q.data)||void 0===u||null===(h=u.quiz[O])||void 0===h||null===(v=h.questions)||void 0===v?void 0:v.length)<=5?(0,f.jsx)("div",{className:"mt-2 h-96 overflow-scroll",children:null===q||void 0===q||null===(p=q.data)||void 0===p||null===(m=p.quiz[O])||void 0===m||null===(g=m.questions)||void 0===g?void 0:g.map(((e,t)=>(0,f.jsxs)("div",{className:"mt-3",children:[(0,f.jsxs)("div",{className:"flex flex-wrap",children:[(0,o.Ay)(null===e||void 0===e?void 0:e.questionContent)," ",(0,f.jsxs)("p",{className:"ml-1",children:["(",y.kg[null===e||void 0===e?void 0:e.questionType],")"]})]}),(0,f.jsx)("div",{className:"flex flex-wrap flex-col",children:(null===e||void 0===e?void 0:e.answers)&&(null===e||void 0===e?void 0:e.answers.map(((e,t)=>(0,f.jsx)("div",{children:(0,o.Ay)(e.content)},t))))})]},t)))}):(0,f.jsx)("div",{className:"mt-2 h-96 overflow-scroll",children:null===q||void 0===q||null===(b=q.data)||void 0===b||null===(_=b.quiz[O])||void 0===_||null===(N=_.questions)||void 0===N?void 0:N.slice(0,5).map(((e,t)=>(0,f.jsxs)("div",{className:"mt-3",children:[(0,f.jsxs)("div",{className:"flex flex-wrap",children:[(0,o.Ay)(null===e||void 0===e?void 0:e.questionContent)," ",(0,f.jsxs)("p",{className:"ml-1",children:["(",y.kg[null===e||void 0===e?void 0:e.questionType],")"]})]}),(0,f.jsx)("div",{className:"flex flex-wrap flex-col",children:(null===e||void 0===e?void 0:e.answers)&&(null===e||void 0===e?void 0:e.answers.map(((e,t)=>(0,f.jsx)("div",{children:(0,o.Ay)(e.content)},t))))})]},t)))}),(0,f.jsx)("div",{className:"absolute w-full px-5 py-2 bottom-0 bg-yellow-500",children:(0,f.jsx)("p",{className:"font-bold text-white",children:"B\u1ea1n \u0111ang xem \u1edf ch\u1ebf \u0111\u1ed9 xem tr\u01b0\u1edbc, h\xe3y b\u1eaft \u0111\u1ea7u \xf4n thi n\xe0o!!!"})})]})})]})})};return(0,f.jsx)("div",{className:"w-full",children:q.isLoading?(0,f.jsx)(w.A,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(x,{quizDetail:q.data}),(0,f.jsxs)("div",{className:"px-2 py-2 mt-5 rounded shadow-md border bg-white",children:[(0,f.jsx)("div",{className:"flex gap-3 flex-wrap",children:S.map((e=>(0,f.jsxs)("button",{className:(z===e.key?"border-b-4 border-b-primary text-primary cursor-default":"hover:opacity-50 cursor-pointer border-b-4 border-b-white")+" flex flex-wrap tabButtons-center text-lg pb-2 px-1 transition-all duration-200 ease-linear text-gray-500 items-center",onClick:()=>k(e.key),children:[(0,f.jsx)(r.g,{className:"block",icon:e.icon}),(0,f.jsx)("p",{className:"pl-2",children:e.label})]},e.key)))}),(0,f.jsx)("div",{className:"mt-6",children:C[z]})]})]})})}},328:(e,t,i)=>{"use strict";i.d(t,{hG:()=>c,wn:()=>l,hj:()=>p,Wk:()=>m,h3:()=>o,iC:()=>v,mU:()=>h,qY:()=>s,J7:()=>d,z1:()=>u});var r=i(97),a=i(2620);const n=i(201).A.create({baseURL:"http://localhost:3001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}}),s=async()=>{try{const t=await a.A.get("/quiz/getQuizzes");var e;if(200===t.status&&t.data)return await(i=2e3,new Promise((e=>setTimeout(e,i)))),null!==(e=t.data.data)&&void 0!==e?e:[]}catch(r){var t;if(r.response)throw new Error(null===(t=r.response)||void 0===t?void 0:t.data)}var i},o=async e=>{try{const t=await a.A.get(`/quiz/getQuizDetail?id=${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},l=async e=>{try{const{name:t,description:i,school:r,subject:n,topic:s,schoolYear:o,educationLevel:l,thumb:c}=e,d=await a.A.post("/quiz/create",JSON.stringify({name:t,description:i,school:r,subject:n,topic:s,schoolYear:o,educationLevel:l,thumb:c}));return 200===d.status&&d.data?d.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},c=async e=>{try{const{id:t,partName:i,questionType:r,questionContent:n,answers:s}=e,o=await a.A.put("/quiz/createQuestion",JSON.stringify({id:t,partName:i,questionType:r,questionContent:n,answers:s}));return 200===o.status&&o.data?o.data.data:{}}catch(t){if(t.response)throw r.Ay.error(t.response.data),new Error(t.response.data)}},d=async e=>{try{const t=await a.A.put("/quiz/updateQuizGeneralInfo",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:{}}catch(t){if(t.response)throw r.Ay.error(t.response.data),new Error(t.response.data)}},u=async e=>{try{const t=await a.A.put("/quiz/updateQuizQuestion",JSON.stringify(e));return 200===t.status&&t.data?t.data.data:t}catch(t){if(t.response)throw console.log(t.response),new Error(t.response.data)}},h=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await n.get(`/quiz/getQuizPreview/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},v=async e=>{try{if(!e)throw new Error("L\u1ed7i");const t=await a.A.get(`/quiz/getQuizForExam/${e}`);return 200===t.status&&t.data?t.data.data:{}}catch(t){throw new Error(t.response.data)}},p=async e=>{try{const{id:t}=e;if(!t)throw new Error("C\xf3 l\u1ed7i trong qu\xe1 tr\xecnh x\xf3a");const i=await a.A.delete(`/quiz/deleteQuiz/${t}`);return 200===i.status&&i.data?i.data.data:{}}catch(t){if(t.response)throw new Error(t.response.data)}},m=async e=>{try{const{name:t,page:i,limit:r,subject:a,topic:s,schoolYear:o,educationLevel:l}=e,c=new URLSearchParams;Object.entries({name:t,page:i,limit:r,subject:a,topic:s,schoolYear:o,educationLevel:l}).forEach((e=>{let[t,i]=e;void 0!==i&&c.append(t,String(i))}));const d=await n.get(`/quiz/getDiscoveryQuizzes?${c}`);return 200===d.status&&d.data?d.data.data:[]}catch(t){throw new Error(t.response.data)}}},3003:(e,t,i)=>{"use strict";i.d(t,{A:()=>c});var r=i(7565),a=i(7898),n=i(1122),s=function(){return s=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var a in t=arguments[i])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)},o=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(i[r[a]]=e[r[a]])}return i},l=(0,n.J)("ClockLoader","100% { transform: rotate(360deg) }","rotate");const c=function(e){var t=e.loading,i=void 0===t||t,n=e.color,c=void 0===n?"#000000":n,d=e.speedMultiplier,u=void 0===d?1:d,h=e.cssOverride,v=void 0===h?{}:h,p=e.size,m=void 0===p?50:p,f=o(e,["loading","color","speedMultiplier","cssOverride","size"]),g=(0,a.L)(m),x=g.value,y=g.unit,w=s({display:"inherit",position:"relative",width:"".concat(x).concat(y),height:"".concat(x).concat(y),backgroundColor:"transparent",boxShadow:"inset 0px 0px 0px 2px ".concat(c),borderRadius:"50%"},v),j={position:"absolute",backgroundColor:c,width:"".concat(x/3,"px"),height:"2px",top:"".concat(x/2-1,"px"),left:"".concat(x/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(l," ").concat(8/u,"s linear infinite")},b={position:"absolute",backgroundColor:c,width:"".concat(x/2.4,"px"),height:"2px",top:"".concat(x/2-1,"px"),left:"".concat(x/2-1,"px"),transformOrigin:"1px 1px",animation:"".concat(l," ").concat(2/u,"s linear infinite")};return i?r.createElement("span",s({style:w},f),r.createElement("span",{style:b}),r.createElement("span",{style:j})):null}},2543:function(e){!function(t,i){var r={version:"2.14.4",areas:{},apis:{},nsdelim:".",inherit:function(e,t){for(var i in e)t.hasOwnProperty(i)||Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i));return t},stringify:function(e,t){return void 0===e||"function"===typeof e?e+"":JSON.stringify(e,t||r.replace)},parse:function(e,t){try{return JSON.parse(e,t||r.revive)}catch(i){return e}},fn:function(e,t){for(var i in r.storeAPI[e]=t,r.apis)r.apis[i][e]=t},get:function(e,t){return e.getItem(t)},set:function(e,t,i){e.setItem(t,i)},remove:function(e,t){e.removeItem(t)},key:function(e,t){return e.key(t)},length:function(e){return e.length},clear:function(e){e.clear()},Store:function(e,t,i){var a=r.inherit(r.storeAPI,(function(e,t,i){return 0===arguments.length?a.getAll():"function"===typeof t?a.transact(e,t,i):void 0!==t?a.set(e,t,i):"string"===typeof e||"number"===typeof e?a.get(e):"function"===typeof e?a.each(e):e?a.setAll(e,t):a.clear()}));a._id=e;try{var n="__store2_test";t.setItem(n,"ok"),a._area=t,t.removeItem(n)}catch(s){a._area=r.storage("fake")}return a._ns=i||"",r.areas[e]||(r.areas[e]=a._area),r.apis[a._ns+a._id]||(r.apis[a._ns+a._id]=a),a},storeAPI:{area:function(e,t){var i=this[e];return i&&i.area||(i=r.Store(e,t,this._ns),this[e]||(this[e]=i)),i},namespace:function(e,t,i){if(i=i||this._delim||r.nsdelim,!e)return this._ns?this._ns.substring(0,this._ns.length-i.length):"";var a=e,n=this[a];if((!n||!n.namespace)&&((n=r.Store(this._id,this._area,this._ns+a+i))._delim=i,this[a]||(this[a]=n),!t))for(var s in r.areas)n.area(s,r.areas[s]);return n},isFake:function(e){return e?(this._real=this._area,this._area=r.storage("fake")):!1===e&&(this._area=this._real||this._area),"fake"===this._area.name},toString:function(){return"store"+(this._ns?"."+this.namespace():"")+"["+this._id+"]"},has:function(e){return this._area.has?this._area.has(this._in(e)):!!(this._in(e)in this._area)},size:function(){return this.keys().length},each:function(e,t){for(var i=0,a=r.length(this._area);i<a;i++){var n=this._out(r.key(this._area,i));if(void 0!==n&&!1===e.call(this,n,this.get(n),t))break;a>r.length(this._area)&&(a--,i--)}return t||this},keys:function(e){return this.each((function(e,t,i){i.push(e)}),e||[])},get:function(e,t){var i,a=r.get(this._area,this._in(e));return"function"===typeof t&&(i=t,t=null),null!==a?r.parse(a,i):null!=t?t:a},getAll:function(e){return this.each((function(e,t,i){i[e]=t}),e||{})},transact:function(e,t,i){var r=this.get(e,i),a=t(r);return this.set(e,void 0===a?r:a),this},set:function(e,t,i){var a,n=this.get(e);return null!=n&&!1===i?t:("function"===typeof i&&(a=i,i=void 0),r.set(this._area,this._in(e),r.stringify(t,a),i)||n)},setAll:function(e,t){var i,r;for(var a in e)r=e[a],this.set(a,r,t)!==r&&(i=!0);return i},add:function(e,t,i){var a=this.get(e);if(a instanceof Array)t=a.concat(t);else if(null!==a){var n=typeof a;if(n===typeof t&&"object"===n){for(var s in t)a[s]=t[s];t=a}else t=a+t}return r.set(this._area,this._in(e),r.stringify(t,i)),t},remove:function(e,t){var i=this.get(e,t);return r.remove(this._area,this._in(e)),i},clear:function(){return this._ns?this.each((function(e){r.remove(this._area,this._in(e))}),1):r.clear(this._area),this},clearAll:function(){var e=this._area;for(var t in r.areas)r.areas.hasOwnProperty(t)&&(this._area=r.areas[t],this.clear());return this._area=e,this},_in:function(e){return"string"!==typeof e&&(e=r.stringify(e)),this._ns?this._ns+e:e},_out:function(e){return this._ns?e&&0===e.indexOf(this._ns)?e.substring(this._ns.length):void 0:e}},storage:function(e){return r.inherit(r.storageAPI,{items:{},name:e})},storageAPI:{length:0,has:function(e){return this.items.hasOwnProperty(e)},key:function(e){var t=0;for(var i in this.items)if(this.has(i)&&e===t++)return i},setItem:function(e,t){this.has(e)||this.length++,this.items[e]=t},removeItem:function(e){this.has(e)&&(delete this.items[e],this.length--)},getItem:function(e){return this.has(e)?this.items[e]:null},clear:function(){for(var e in this.items)this.removeItem(e)}}},a=r.Store("local",function(){try{return localStorage}catch(e){}}());a.local=a,a._=r,a.area("session",function(){try{return sessionStorage}catch(e){}}()),a.area("page",r.storage("page")),"function"===typeof i&&void 0!==i.amd?i("store2",[],(function(){return a})):e.exports?e.exports=a:(t.store&&(r.conflict=t.store),t.store=a)}(this,this&&this.define)}}]);
//# sourceMappingURL=811.69b26f8e.chunk.js.map